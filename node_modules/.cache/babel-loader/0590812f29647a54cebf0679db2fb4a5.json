{"ast":null,"code":"import _classCallCheck from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import StickyHeadTable from\"./StickyHeadTable\";import{connect}from\"react-redux\";import Switch from\"@material-ui/core/Switch\";import{Bounce}from\"react-reveal\";import{Link}from\"react-router-dom\";import Fab from\"@material-ui/core/Fab\";import ArrowBackIcon from\"@material-ui/icons/ArrowBack\";var axios=require('axios');var api=axios.create({baseURL:\"http://localhost:4000\"});var mapStateToProps=function mapStateToProps(state){return{userStatus:state.userLoginReducer.userStatus,displayStatus:state.userLoginReducer.displayStatus,userID:state.userLoginReducer.userID,chiefID:state.userLoginReducer.chiefID,proxyChiefID:state.userLoginReducer.proxyChiefID,generalManagerID:state.userLoginReducer.generalManagerID,chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,permissionDescription:state.permissionReducer.permissionDescription,personalName:state.userLoginReducer.personalName,beginDateOfPermission:state.permissionReducer.beginDateOfPermission,endDateOfPermission:state.permissionReducer.endDateOfPermission,isPermissionActive:state.permissionReducer.isPermissionActive,begDateSelectionStat:state.permissionReducer.begDateSelectionStat||false,endDateSelectionStat:state.permissionReducer.endDateSelectionStat||false,selectVehicleUsageName:state.permissionReducer.selectVehicleUsageName,selectVehicleUsageID:state.permissionReducer.selectVehicleUsageID,priceOfTrainOrBus:state.permissionReducer.priceOfTrainOrBus,totalDistanceOfIndividualCar:state.permissionReducer.totalDistanceOfIndividualCar,foldCode:state.permissionReducer.foldCode,areaCode:state.permissionReducer.areaCode,displayThePermissionName:state.permissionReducer.displayThePermissionName,setPermissionType:state.permissionReducer.setPermissionType};};function createData(userStatus,permissionID,beginDateOfPermission,endDateOfPermission,chiefConfirmStatus,generalManagerConfirmStatus,chiefsDescription,generalManagerDescription){return{userStatus:userStatus,permissionID:permissionID,beginDateOfPermission:beginDateOfPermission,endDateOfPermission:endDateOfPermission,chiefConfirmStatus:chiefConfirmStatus,generalManagerConfirmStatus:generalManagerConfirmStatus,chiefsDescription:chiefsDescription,generalManagerDescription:generalManagerDescription};}var PreviousPermissions=/*#__PURE__*/function(_React$Component){_inherits(PreviousPermissions,_React$Component);var _super=_createSuper(PreviousPermissions);function PreviousPermissions(props){var _this;_classCallCheck(this,PreviousPermissions);_this=_super.call(this,props);_this.state={data:[],isActive:true,activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"};_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.getDataForChief=_this.getDataForChief.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.bringHeader=_this.bringHeader.bind(_assertThisInitialized(_this));_this.getDataForProxyChief=_this.getDataForProxyChief.bind(_assertThisInitialized(_this));_this.displayBackButton=_this.displayBackButton.bind(_assertThisInitialized(_this));if(_this.props.userStatus===1){_this.getData().then(function(data){_this.setState({data:data});});}else if(_this.props.userStatus===2){if(_this.props.displayStatus===1){_this.getData(_this.props.userID).then(function(data){_this.setState({data:data});});}else{if(_this.props.proxyChiefID!==-1000){_this.getDataForChief(_this.props.userID).then(function(data){_this.setState({data:data});});}else{_this.getDataForProxyChief(_this.props.userID).then(function(data){_this.setState({data:data});});}}}else if(_this.props.userStatus===3){if(_this.props.displayStatus===1){_this.getData(_this.props.userID).then(function(data){_this.setState({data:data});});}else{console.log(_this.props.userID,\"Selam\");_this.getDataForGeneralManager(_this.props.userID).then(function(data){_this.setState({data:data});});}}return _this;}_createClass(PreviousPermissions,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.userStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else if(this.props.userStatus===2){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else{if(this.props.proxyChiefID!==-1000){this.getDataForChief(this.props.userID).then(function(data){_this2.setState({data:data});});}else{this.getDataForProxyChief(this.props.userID).then(function(data){_this2.setState({data:data});});}}}else if(this.props.userStatus===3){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else{this.getDataForGeneralManager(this.props.userID).then(function(data){_this2.setState({data:data});});}}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(prevState.isActive!==this.state.isActive){if(this.props.userStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else if(this.props.userStatus===2){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else{if(this.props.proxyChiefID!==-1000){this.getDataForChief(this.props.userID).then(function(data){_this3.setState({data:data});});}else{this.getDataForProxyChief(this.props.userID).then(function(data){_this3.setState({data:data});});}}}else if(this.props.userStatus===3){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else{this.getDataForGeneralManager(this.props.userID).then(function(data){_this3.setState({data:data});});}}}}},{key:\"getData\",value:function getData(userID){var arr=[];var arr2=[];return api.get('/displayUsersPermissions/'+userID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForChief\",value:function getDataForChief(chiefID){console.log(\"DERLER Kİİİİ\");console.log(this.props);var arr=[];var arr2=[];return api.get('/displayPermissionsForChief/'+chiefID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForProxyChief\",value:function getDataForProxyChief(proxyChiefID){var arr=[];var arr2=[];return api.get('/displayPermissionsForProxyChief/'+proxyChiefID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForGeneralManager\",value:function getDataForGeneralManager(generalManagerID){var arr=[];var arr2=[];return api.get('/displayPermissionsForGeneralManager/'+generalManagerID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"handleChange\",value:function handleChange(event){this.setState({isActive:!this.state.isActive});if(event.target.checked){this.setState({activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"});}else{this.setState({activePassiveHeader:\"GEÇMİŞ İZİN TALEPLERİ\"});}this.getData();}},{key:\"bringHeader\",value:function bringHeader(){return/*#__PURE__*/React.createElement(Bounce,null,this.state.isActive?\"AKTİF İZİN TALEPLERİ\":\"GEÇMİŞ İZİN TALEPLERİ\");}},{key:\"displayBackButton\",value:function displayBackButton(){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flex:1,marginTop:\"4px\",paddingLeft:\"100px\",marginBottom:\"4px\"}},/*#__PURE__*/React.createElement(Link,{to:this.props.userStatus===1?\"/PersonelScreens/PersonelNavigation\":\"/PersonelScreens/NavigateTheChief\"},/*#__PURE__*/React.createElement(Fab,{style:{display:\"flex\",width:\"70px\",height:\"70px\"}},/*#__PURE__*/React.createElement(ArrowBackIcon,null))));}},{key:\"render\",value:function render(){console.log(\"------------\");console.log(this.state.data);console.log(\"------------\");return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",flex:3}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginTop:\"20px\",textAlign:\"center\",flex:2}},/*#__PURE__*/React.createElement(\"h1\",{style:{display:\"flex\",flex:2,justifyContent:\"center\",flexDirection:\"column\",fontSize:\"40px\",width:\"100%\"}},this.bringHeader()),/*#__PURE__*/React.createElement(Switch,{style:{display:\"flex\",margin:\"0\"},checked:this.state.isActive,onChange:this.handleChange,color:\"primary\",name:\"isActive\",inputProps:{'aria-label':'primary checkbox'}})),/*#__PURE__*/React.createElement(StickyHeadTable,{rows:this.state.data}),this.displayBackButton());}}]);return PreviousPermissions;}(React.Component);export default connect(mapStateToProps)(PreviousPermissions);","map":{"version":3,"sources":["/home/can/IdeaProjects/devRep/src/PersonelScreens/PreviousPermissions.js"],"names":["React","StickyHeadTable","connect","Switch","Bounce","Link","Fab","ArrowBackIcon","axios","require","api","create","baseURL","mapStateToProps","state","userStatus","userLoginReducer","displayStatus","userID","chiefID","proxyChiefID","generalManagerID","chiefConfirmStatus","permissionReducer","permissionDescription","personalName","beginDateOfPermission","endDateOfPermission","isPermissionActive","begDateSelectionStat","endDateSelectionStat","selectVehicleUsageName","selectVehicleUsageID","priceOfTrainOrBus","totalDistanceOfIndividualCar","foldCode","areaCode","displayThePermissionName","setPermissionType","createData","permissionID","generalManagerConfirmStatus","chiefsDescription","generalManagerDescription","PreviousPermissions","props","data","isActive","activePassiveHeader","getData","bind","getDataForChief","handleChange","bringHeader","getDataForProxyChief","displayBackButton","then","setState","console","log","getDataForGeneralManager","prevProps","prevState","arr","arr2","get","response","Object","keys","prevPerms","forEach","key","push","i","length","event","target","checked","display","flex","marginTop","paddingLeft","marginBottom","width","height","flexDirection","justifyContent","textAlign","fontSize","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport StickyHeadTable from \"./StickyHeadTable\";\nimport {connect} from \"react-redux\";\nimport Switch from \"@material-ui/core/Switch\";\nimport {Bounce} from \"react-reveal\";\nimport {Link} from \"react-router-dom\";\nimport Fab from \"@material-ui/core/Fab\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\n\nconst axios = require('axios');\n\nconst api = axios.create({\n    baseURL: `http://localhost:4000`\n})\n\nconst mapStateToProps = (state) => {\n    return {\n\n        userStatus: state.userLoginReducer.userStatus,\n        displayStatus: state.userLoginReducer.displayStatus,\n\n        userID: state.userLoginReducer.userID,\n        chiefID: state.userLoginReducer.chiefID,\n        proxyChiefID:state.userLoginReducer.proxyChiefID,\n        generalManagerID: state.userLoginReducer.generalManagerID,\n        chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,\n\n        permissionDescription: state.permissionReducer.permissionDescription,\n        personalName: state.userLoginReducer.personalName,\n        beginDateOfPermission: state.permissionReducer.beginDateOfPermission,\n        endDateOfPermission: state.permissionReducer.endDateOfPermission,\n        isPermissionActive: state.permissionReducer.isPermissionActive,\n\n        begDateSelectionStat: state.permissionReducer.begDateSelectionStat || false,\n        endDateSelectionStat: state.permissionReducer.endDateSelectionStat || false,\n\n        selectVehicleUsageName: state.permissionReducer.selectVehicleUsageName,\n        selectVehicleUsageID: state.permissionReducer.selectVehicleUsageID,\n        priceOfTrainOrBus: state.permissionReducer.priceOfTrainOrBus,\n        totalDistanceOfIndividualCar: state.permissionReducer.totalDistanceOfIndividualCar,\n\n        foldCode: state.permissionReducer.foldCode,\n        areaCode: state.permissionReducer.areaCode,\n\n        displayThePermissionName: state.permissionReducer.displayThePermissionName,\n        setPermissionType: state.permissionReducer.setPermissionType,\n\n    }\n};\n\nfunction createData(userStatus, permissionID, beginDateOfPermission, endDateOfPermission, chiefConfirmStatus, generalManagerConfirmStatus, chiefsDescription, generalManagerDescription) {\n    return {\n        userStatus,\n        permissionID,\n        beginDateOfPermission,\n        endDateOfPermission,\n        chiefConfirmStatus,\n        generalManagerConfirmStatus,\n        chiefsDescription,\n        generalManagerDescription\n    };\n}\n\nclass PreviousPermissions extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            data: [],\n            isActive: true,\n            activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\n        }\n        this.getData = this.getData.bind(this);\n        this.getDataForChief = this.getDataForChief.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.bringHeader = this.bringHeader.bind(this);\n        this.getDataForProxyChief=this.getDataForProxyChief.bind(this);\n        this.displayBackButton=this.displayBackButton.bind(this);\n\n        if (this.props.userStatus === 1) {\n            this.getData().then((data) => {\n                this.setState({data: data})\n            });\n        } else if (this.props.userStatus === 2) {\n\n            if (this.props.displayStatus === 1) {\n                this.getData(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            } else {\n                if(this.props.proxyChiefID!==-1000){\n                    this.getDataForChief(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n                }else{\n                    this.getDataForProxyChief(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n\n                }\n\n            }\n        } else if (this.props.userStatus === 3) {\n\n            if (this.props.displayStatus === 1) {\n                this.getData(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            } else {\n                console.log(this.props.userID,\"Selam\");\n                this.getDataForGeneralManager(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            }\n\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.userStatus === 1) {\n            this.getData(this.props.userID).then((data) => {\n                this.setState({data: data})\n            });\n        } else if (this.props.userStatus === 2) {\n            if (this.props.displayStatus === 1) {\n                this.getData(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            } else {\n                if(this.props.proxyChiefID!==-1000){\n                    this.getDataForChief(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n                }else{\n                    this.getDataForProxyChief(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n\n                }\n            }\n\n        } else if (this.props.userStatus === 3) {\n            if (this.props.displayStatus === 1) {\n                this.getData(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            } else {\n                this.getDataForGeneralManager(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            }\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if (prevState.isActive !== this.state.isActive) {\n\n            if (this.props.userStatus === 1) {\n                this.getData(this.props.userID).then((data) => {\n                    this.setState({data: data})\n                });\n            } else if (this.props.userStatus === 2) {\n                if (this.props.displayStatus === 1) {\n                    this.getData(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n                } else {\n                    if(this.props.proxyChiefID!==-1000){\n                        this.getDataForChief(this.props.userID).then((data) => {\n                            this.setState({data: data})\n                        });\n                    }else{\n                        this.getDataForProxyChief(this.props.userID).then((data) => {\n                            this.setState({data: data})\n                        });\n\n                    }\n                }\n            } else if (this.props.userStatus === 3) {\n\n                if (this.props.displayStatus === 1) {\n                    this.getData(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n                } else {\n                    this.getDataForGeneralManager(this.props.userID).then((data) => {\n                        this.setState({data: data})\n                    });\n                }\n\n            }\n        }\n\n    }\n\n    getData(userID) {\n        let arr = [];\n        let arr2 = [];\n        return api.get('/displayUsersPermissions/' + userID + '/' + this.state.isActive)\n            .then(\n                function (response) {\n\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\n\n                        arr.push(response.data.prevPerms[key]);\n\n                    });\n\n                    for (let i = 0; i < arr.length; i++) {\n\n                        arr2.push(createData(\n                            arr[i].userStatus,\n                            arr[i].permissionID,\n                            arr[i].beginDateOfPermission,\n                            arr[i].endDateOfPermission,\n                            arr[i].chiefConfirmStatus,\n                            arr[i].generalManagerConfirmStatus,\n                            arr[i].chiefsDescription,\n                            arr[i].generalManagerDescription)\n                        )\n                    }\n\n                    return arr2\n\n                })\n    }\n\n    getDataForChief(chiefID) {\n\n        console.log(\"DERLER Kİİİİ\")\n        console.log(this.props)\n\n\n        let arr = [];\n        let arr2 = [];\n\n        return api.get('/displayPermissionsForChief/' + chiefID + '/' + this.state.isActive)\n            .then(\n                function (response) {\n\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\n\n                        arr.push(response.data.prevPerms[key]);\n\n                    });\n\n                    for (let i = 0; i < arr.length; i++) {\n\n                        arr2.push(createData(\n                            arr[i].userStatus,\n                            arr[i].permissionID,\n                            arr[i].beginDateOfPermission,\n                            arr[i].endDateOfPermission,\n                            arr[i].chiefConfirmStatus,\n                            arr[i].generalManagerConfirmStatus,\n                            arr[i].chiefsDescription,\n                            arr[i].generalManagerDescription)\n                        )\n                    }\n                    return arr2\n                })\n    }\n\n    getDataForProxyChief(proxyChiefID) {\n\n        let arr = [];\n        let arr2 = [];\n\n        return api.get('/displayPermissionsForProxyChief/' + proxyChiefID + '/' + this.state.isActive)\n            .then(\n                function (response) {\n\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\n\n                        arr.push(response.data.prevPerms[key]);\n\n                    });\n\n                    for (let i = 0; i < arr.length; i++) {\n\n                        arr2.push(createData(\n                            arr[i].userStatus,\n                            arr[i].permissionID,\n                            arr[i].beginDateOfPermission,\n                            arr[i].endDateOfPermission,\n                            arr[i].chiefConfirmStatus,\n                            arr[i].generalManagerConfirmStatus,\n                            arr[i].chiefsDescription,\n                            arr[i].generalManagerDescription)\n                        )\n                    }\n                    return arr2\n                })\n    }\n\n    getDataForGeneralManager(generalManagerID) {\n\n        let arr = [];\n        let arr2 = [];\n\n        return api.get('/displayPermissionsForGeneralManager/' + generalManagerID + '/' + this.state.isActive)\n            .then(\n                function (response) {\n\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\n\n                        arr.push(response.data.prevPerms[key]);\n\n                    });\n\n                    for (let i = 0; i < arr.length; i++) {\n\n                        arr2.push(createData(\n                            arr[i].userStatus,\n                            arr[i].permissionID,\n                            arr[i].beginDateOfPermission,\n                            arr[i].endDateOfPermission,\n                            arr[i].chiefConfirmStatus,\n                            arr[i].generalManagerConfirmStatus,\n                            arr[i].chiefsDescription,\n                            arr[i].generalManagerDescription)\n                        )\n                    }\n\n                    return arr2\n\n                })\n    }\n\n    handleChange(event) {\n        this.setState({\n            isActive: !this.state.isActive\n        });\n        if (event.target.checked) {\n            this.setState({\n                activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\n            })\n        } else {\n            this.setState({\n                activePassiveHeader: \"GEÇMİŞ İZİN TALEPLERİ\"\n            })\n        }\n\n        this.getData();\n\n    }\n\n    bringHeader() {\n        return (\n            <Bounce>\n                {this.state.isActive ? \"AKTİF İZİN TALEPLERİ\" : \"GEÇMİŞ İZİN TALEPLERİ\"}\n            </Bounce>\n        )\n    }\n\n   displayBackButton() {\n\n        return(\n            <div style={{\n                display: \"flex\",\n                flex: 1,\n                marginTop: \"4px\",\n                paddingLeft:\"100px\",\n                marginBottom: \"4px\"\n            }}>\n                <Link to={this.props.userStatus===1 ? \"/PersonelScreens/PersonelNavigation\" :\"/PersonelScreens/NavigateTheChief\"  }>\n                    <Fab style={{\n                        display:\"flex\",\n                        width: \"70px\",\n                        height: \"70px\",\n                    }}>\n                        <ArrowBackIcon/>\n                    </Fab>\n                </Link>\n            </div>\n        )\n    }\n\n    render() {\n        console.log(\"------------\")\n        console.log(this.state.data)\n        console.log(\"------------\")\n        return (\n            <div style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                flex: 3\n            }}>\n                <div style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    marginTop: \"20px\",\n                    textAlign: \"center\",\n                    flex: 2\n                }}>\n\n                    <h1 style={{\n                        display: \"flex\",\n                        flex: 2,\n                        justifyContent: \"center\",\n                        flexDirection: \"column\",\n                        fontSize: \"40px\",\n                        width: \"100%\"\n                    }}>\n                        {this.bringHeader()}\n                    </h1>\n                    <Switch\n                        style={{display: \"flex\", margin: \"0\"}}\n                        checked={this.state.isActive}\n                        onChange={this.handleChange}\n                        color=\"primary\"\n                        name=\"isActive\"\n                        inputProps={{'aria-label': 'primary checkbox'}}\n                    />\n\n                </div>\n                <StickyHeadTable rows={this.state.data}/>\n                {this.displayBackButton()}\n            </div>\n\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(PreviousPermissions);\n"]},"metadata":{},"sourceType":"module"}