{"ast":null,"code":"import _classCallCheck from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/can/IdeaProjects/devRep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";var axios=require('axios');var api=axios.create({baseURL:\"http://localhost:4000\"});var mapStateToProps=function mapStateToProps(state){return{userID:state.userLoginReducer.userID,userMail:state.userLoginReducer.userMail,proxyChiefID:state.userLoginReducer.proxyChiefID,personalName:state.userLoginReducer.personalName,userStatus:state.userLoginReducer.userStatus,userSignature:state.userLoginReducer.userSignature,chiefID:state.userLoginReducer.chiefID,generalManagerID:state.userLoginReducer.generalManagerID,userArea:state.userLoginReducer.userArea};};var GenerateProxyManager=/*#__PURE__*/function(_React$Component){_inherits(GenerateProxyManager,_React$Component);var _super=_createSuper(GenerateProxyManager);function GenerateProxyManager(props){var _this;_classCallCheck(this,GenerateProxyManager);_this=_super.call(this,props);_this.state={newPasswordOfGivenUser:\"\",userMail:\"\"};_this.setNewPass=_this.setNewPass.bind(_assertThisInitialized(_this));_this.getProxyMail=_this.getProxyMail.bind(_assertThisInitialized(_this));_this.getProxyPassword=_this.getProxyPassword.bind(_assertThisInitialized(_this));_this.getProxyMail().then(function(data){_this.setState({userMail:data});});_this.getProxyPassword().then(function(data){_this.setState({newPasswordOfGivenUser:data});});return _this;}_createClass(GenerateProxyManager,[{key:\"getProxyMail\",value:function getProxyMail(){return api.get(\"/GetUserMailOfProxyChief/\"+this.props.proxyChiefID).then(function(response){return response.data.chiefProxyEmail.userMail;});}},{key:\"getProxyPassword\",value:function getProxyPassword(){return api.get(\"/GetUserMailOfProxyChief/\"+this.props.proxyChiefID).then(function(response){return response.data.chiefProxyEmail.userPassword;});}},{key:\"setNewPass\",value:function setNewPass(){var result='';var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';var charactersLength=characters.length;for(var i=0;i<10;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength));}this.setState({newPasswordOfGivenUser:result});return result;}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"form\",{style:{background:\"rgba(239,236,236,0.5)\",margin:\"auto\",borderRadius:\"5%\",padding:\"15px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h1\",null,\"VEKALET HESAP EKRANI\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"left\",padding:\"5px\",textAlign:\"left\",margin:\"10px\",background:\"rgb(241,235,235)\",borderRadius:\"5%\"}},/*#__PURE__*/React.createElement(\"h1\",{style:{display:\"flex\",fontFamily:\"Arya\",fontSize:\"18px\"}},\"VEKALET HESAP E-MA\\u0130L :\",this.state.userMail)),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"left\",padding:\"5px\",textAlign:\"left\",margin:\"10px\",background:\"rgb(241,235,235)\",borderRadius:\"5%\"}},/*#__PURE__*/React.createElement(\"h1\",{style:{display:\"flex\",fontFamily:\"Arya\",fontSize:\"18px\"}},\"VEKALET HESAP \\u015E\\u0130FRE :\",this.state.newPasswordOfGivenUser)),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",textAlign:\"center\",margin:\"10px\"}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){api.put(\"/resetProxyChiefsPassword/\"+_this2.props.proxyChiefID,{userPassword:_this2.setNewPass()}).then(function(r){return console.log(r);});},style:{margin:\"auto\"},className:\"btn btn-primary btn-block\"},\"\\u015E\\u0130FRE RESETLE\"))));}}]);return GenerateProxyManager;}(React.Component);export default connect(mapStateToProps)(GenerateProxyManager);","map":{"version":3,"sources":["/home/can/IdeaProjects/devRep/src/PersonelScreens/GenerateProxyManager.js"],"names":["React","connect","axios","require","api","create","baseURL","mapStateToProps","state","userID","userLoginReducer","userMail","proxyChiefID","personalName","userStatus","userSignature","chiefID","generalManagerID","userArea","GenerateProxyManager","props","newPasswordOfGivenUser","setNewPass","bind","getProxyMail","getProxyPassword","then","data","setState","get","response","chiefProxyEmail","userPassword","result","characters","charactersLength","length","i","charAt","Math","floor","random","display","flexDirection","justifyContent","background","margin","borderRadius","padding","textAlign","fontFamily","fontSize","put","r","console","log","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\";\n\nconst axios = require('axios');\nconst api = axios.create({\n    baseURL: `http://localhost:4000`\n})\n\nconst mapStateToProps = (state) => {\n    return {\n        userID: state.userLoginReducer.userID,\n        userMail: state.userLoginReducer.userMail,\n        proxyChiefID:state.userLoginReducer.proxyChiefID,\n        personalName: state.userLoginReducer.personalName,\n        userStatus: state.userLoginReducer.userStatus,\n        userSignature:state.userLoginReducer.userSignature,\n        chiefID: state.userLoginReducer.chiefID,\n        generalManagerID: state.userLoginReducer.generalManagerID,\n        userArea: state.userLoginReducer.userArea\n    }\n};\n\nclass GenerateProxyManager extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            newPasswordOfGivenUser: \"\",\n            userMail:\"\",\n        }\n        this.setNewPass = this.setNewPass.bind(this);\n        this.getProxyMail=this.getProxyMail.bind(this);\n        this.getProxyPassword=this.getProxyPassword.bind(this);\n\n        this.getProxyMail().then((data)=>{\n            this.setState({\n                userMail:data,\n            })\n        })\n\n        this.getProxyPassword().then((data)=>{\n            this.setState({\n                newPasswordOfGivenUser:data,\n            })\n        })\n\n    }\n\n    getProxyMail(){\n        return api.get(\"/GetUserMailOfProxyChief/\"+this.props.proxyChiefID)\n            .then(\n                function (response) {\n                    return response.data.chiefProxyEmail.userMail;\n                }\n            )\n    }\n\n\n    getProxyPassword(){\n        return api.get(\"/GetUserMailOfProxyChief/\"+this.props.proxyChiefID)\n            .then(\n                function (response) {\n                    return response.data.chiefProxyEmail.userPassword;\n                }\n            )\n    }\n\n    setNewPass() {\n\n        let result = '';\n        let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        let charactersLength = characters.length;\n        for (let i = 0; i < 10; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        this.setState({\n            newPasswordOfGivenUser:result,\n        })\n        return result\n    }\n\n\n    render() {\n        return (\n            <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n                <form\n                    style={{background: \"rgba(239,236,236,0.5)\", margin: \"auto\", borderRadius: \"5%\", padding: \"15px\"}}>\n                    {/*\n                    This part displays header to user.\n                */}\n                    <div style={{display: \"flex\", justifyContent: \"center\", textAlign: \"center\"}}>\n                        <h1>\n                            VEKALET HESAP EKRANI\n                        </h1>\n                    </div>\n                    {/*\n                    This part displays file browser to user.\n                */}\n                    <div style={{\n                        display: \"flex\",\n                        justifyContent: \"left\",\n                        padding: \"5px\",\n                        textAlign: \"left\",\n                        margin: \"10px\",\n                        background: \"rgb(241,235,235)\",\n                        borderRadius: \"5%\",\n                    }}>\n                        <h1 style={{\n                            display: \"flex\",\n                            fontFamily: \"Arya\",\n                            fontSize: \"18px\",\n\n                        }}>\n                            VEKALET HESAP E-MAİL :{this.state.userMail}\n                        </h1>\n                    </div>\n                    <div style={{\n                        display: \"flex\",\n                        justifyContent: \"left\",\n                        padding: \"5px\",\n                        textAlign: \"left\",\n                        margin: \"10px\",\n                        background: \"rgb(241,235,235)\",\n                        borderRadius: \"5%\"\n                    }}\n                    >\n                        <h1 style={{\n                            display: \"flex\",\n                            fontFamily: \"Arya\",\n                            fontSize: \"18px\",\n\n                        }}>\n                            VEKALET HESAP ŞİFRE :{this.state.newPasswordOfGivenUser}\n                        </h1>\n                    </div>\n                    {/*\n                    This part contains submit button to take signature from user.Then navigates the user to\n                    navigation screen.\n                */}\n                    <div style={{display: \"flex\", justifyContent: \"center\", textAlign: \"center\", margin: \"10px\"}}>\n\n                        <button type=\"button\" onClick={() => {\n\n\n                            api.put(\"/resetProxyChiefsPassword/\" + this.props.proxyChiefID, {\n                                userPassword:this.setNewPass(),\n                            }).then(r =>\n                                console.log(r)\n                            )\n\n                        }\n                        } style={{margin: \"auto\"}} className=\"btn btn-primary btn-block\">ŞİFRE RESETLE\n                        </button>\n\n                    </div>\n                </form>\n\n            </div>\n        )\n    }\n}\nexport default connect(mapStateToProps)(GenerateProxyManager);\n"]},"metadata":{},"sourceType":"module"}