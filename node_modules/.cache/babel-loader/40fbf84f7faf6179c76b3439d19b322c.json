{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import setSignatureAction from\"../actions/setUsersSignature\";import{connect}from\"react-redux\";var axios=require('axios');var api=axios.create({baseURL:\"http://localhost:4000\"});{/*\r\n    * This class takes signature from user and makes operations with it.\r\n    * */}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setSignature:function setSignature(signatureData){dispatch(setSignatureAction(signatureData));}};};var mapStateToProps=function mapStateToProps(state){return{userID:state.userLoginReducer.userID,userSignature:state.userLoginReducer.userSignature,userMail:state.userLoginReducer.userMail,personalName:state.userLoginReducer.personalName,userStatus:state.userLoginReducer.userStatus,chiefID:state.userLoginReducer.chiefID,generalManagerID:state.userLoginReducer.generalManagerID,userArea:state.userLoginReducer.userArea};};var takeSignature=/*#__PURE__*/function(_React$Component){_inherits(takeSignature,_React$Component);var _super=_createSuper(takeSignature);function takeSignature(props){var _this;_classCallCheck(this,takeSignature);_this=_super.call(this,props);_this.state={imgUpload:undefined,imgUploadForblod:undefined};_this.onFileChange=_this.onFileChange.bind(_assertThisInitialized(_this));_this.onFileUpload=_this.onFileUpload.bind(_assertThisInitialized(_this));return _this;}_createClass(takeSignature,[{key:\"onFileChange\",value:function onFileChange(event){this.setState({imgUpload:event.target.files[0]});this.setState({imgUploadForblod:URL.createObjectURL(event.target.files[0])});}},{key:\"onFileUpload\",value:function onFileUpload(){var imgFormObj=new FormData();imgFormObj.append(\"imageName\",\"multer-image-\"+Date.now());imgFormObj.append(\"imageData\",this.state.imgUpload);api.post(\"/uploadmulter/\"+this.props.userID,imgFormObj).then(function(data){console.log(data,\"ŞEKLİNDE İMZA KAYDEDİLDİ\");});if(this.props.userStatus===1){this.props.history.push({pathname:'/PersonelScreens/PersonelNavigation'});}else{this.props.history.push({pathname:'/PersonelScreens/NavigateTheChief'});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"form\",{style:{background:\"rgba(239,236,236,0.5)\",margin:\"auto\",borderRadius:\"5%\",padding:\"15px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h1\",null,\"L\\xDCTFEN \\u0130MZANIZI Y\\xDCKLEY\\u0130N\\u0130Z\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",textAlign:\"center\",margin:\"10px\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"input-file\",name:\"imgUpload\",accept:\".png\",onChange:this.onFileChange})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",textAlign:\"center\",margin:\"10px\"}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.onFileUpload,style:{margin:\"auto\"},className:\"btn btn-primary btn-block\"},\"\\u0130MZAYI Y\\xDCKLE\"))),/*#__PURE__*/React.createElement(\"img\",{src:this.state.imgUploadForblod,alt:\"upload-image\",className:\"process__image\"}));}}]);return takeSignature;}(React.Component);export default connect(mapStateToProps,mapDispatchToProps)(takeSignature);","map":{"version":3,"sources":["C:/Users/kursa/IdeaProjects/devRep/src/PersonelScreens/TakeTheSignature.js"],"names":["React","setSignatureAction","connect","axios","require","api","create","baseURL","mapDispatchToProps","dispatch","setSignature","signatureData","mapStateToProps","state","userID","userLoginReducer","userSignature","userMail","personalName","userStatus","chiefID","generalManagerID","userArea","takeSignature","props","imgUpload","undefined","imgUploadForblod","onFileChange","bind","onFileUpload","event","setState","target","files","URL","createObjectURL","imgFormObj","FormData","append","Date","now","post","then","data","console","log","history","push","pathname","display","flexDirection","justifyContent","background","margin","borderRadius","padding","textAlign","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport setSignatureAction from \"../actions/setUsersSignature\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst axios = require('axios');\r\n\r\nconst api = axios.create({\r\n    baseURL: `http://localhost:4000`\r\n})\r\n\r\n\r\n{\r\n    /*\r\n    * This class takes signature from user and makes operations with it.\r\n    * */\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSignature: (signatureData) => {\r\n            dispatch(setSignatureAction(signatureData));\r\n        }\r\n    }\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userID: state.userLoginReducer.userID,\r\n        userSignature: state.userLoginReducer.userSignature,\r\n        userMail: state.userLoginReducer.userMail,\r\n        personalName: state.userLoginReducer.personalName,\r\n        userStatus: state.userLoginReducer.userStatus,\r\n        chiefID: state.userLoginReducer.chiefID,\r\n        generalManagerID: state.userLoginReducer.generalManagerID,\r\n        userArea: state.userLoginReducer.userArea\r\n    }\r\n};\r\n\r\nclass takeSignature extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            imgUpload:undefined,\r\n            imgUploadForblod:undefined,\r\n        }\r\n\r\n        this.onFileChange = this.onFileChange.bind(this)\r\n        this.onFileUpload = this.onFileUpload.bind(this);\r\n\r\n    }\r\n\r\n    onFileChange(event) {\r\n        this.setState({imgUpload: event.target.files[0]});\r\n        this.setState({imgUploadForblod: URL.createObjectURL(event.target.files[0])});\r\n\r\n\r\n    }\r\n\r\n    onFileUpload() {\r\n\r\n        let imgFormObj = new FormData();\r\n        imgFormObj.append(\"imageName\",\"multer-image-\" + Date.now());\r\n        imgFormObj.append(\"imageData\",this.state.imgUpload)\r\n\r\n        api.post(\"/uploadmulter/\"+this.props.userID,imgFormObj).then(\r\n            (data)=>{\r\n\r\n                console.log(data,\"ŞEKLİNDE İMZA KAYDEDİLDİ\")\r\n\r\n            }\r\n        )\r\n        if(this.props.userStatus===1) {\r\n            this.props.history.push({\r\n                pathname: '/PersonelScreens/PersonelNavigation',\r\n            })\r\n        }else{\r\n            this.props.history.push({\r\n                pathname: '/PersonelScreens/NavigateTheChief',\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\r\n                <form\r\n                    style={{background: \"rgba(239,236,236,0.5)\", margin: \"auto\", borderRadius: \"5%\", padding: \"15px\"}}>\r\n                    {/*\r\n                    This part displays header to user.\r\n                */}\r\n                    <div style={{display: \"flex\", justifyContent: \"center\", textAlign: \"center\"}}>\r\n                        <h1>\r\n                            LÜTFEN İMZANIZI YÜKLEYİNİZ\r\n                        </h1>\r\n                    </div>\r\n                    {/*\r\n                    This part displays file browser to user.\r\n                */}\r\n                    <div style={{display: \"flex\", justifyContent: \"center\", textAlign: \"center\", margin: \"10px\"}}>\r\n                        <input type=\"file\" className=\"input-file\" name=\"imgUpload\" accept='.png'\r\n                               onChange={this.onFileChange}/>\r\n                    </div>\r\n                    {/*\r\n                    This part contains submit button to take signature from user.Then navigates the user to\r\n                    navigation screen.\r\n                */}\r\n                    <div style={{display: \"flex\", justifyContent: \"center\", textAlign: \"center\", margin: \"10px\"}}>\r\n\r\n                        <button type=\"button\" onClick={this.onFileUpload\r\n                        } style={{margin: \"auto\"}} className=\"btn btn-primary btn-block\">İMZAYI YÜKLE\r\n                        </button>\r\n\r\n                    </div>\r\n                </form>\r\n                <img src={this.state.imgUploadForblod} alt=\"upload-image\" className=\"process__image\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(takeSignature);\r\n"]},"metadata":{},"sourceType":"module"}