{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*\r\n    Here the login screen that displayed at the beginning.Allows to user login , remember me and forgot password.\r\n    In addition company logo displayed at the top.\r\n*/import React from\"react\";import Logo from\"./SystemImages/CompanyLogo.png\";import{Link}from\"react-router-dom\";import setOnlineUser from\"../actions/userLoginActions\";import{connect}from\"react-redux\";var axios=require('axios');var mapStateToProps=function mapStateToProps(state){return{userID:state.userLoginReducer.userID,userMail:state.userLoginReducer.userMail,chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,proxyChiefID:state.userLoginReducer.proxyChiefID,personalName:state.userLoginReducer.personalName,userStatus:state.userLoginReducer.userStatus,userSignature:state.userLoginReducer.userSignature,chiefID:state.userLoginReducer.chiefID,generalManagerID:state.userLoginReducer.generalManagerID,userArea:state.userLoginReducer.userArea};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setUser:function setUser(user){dispatch(setOnlineUser(user));}};};var api=axios.create({baseURL:\"http://localhost:4000\"});var passRegex=/^[a-zA-Z0-9]{5,12}$/;// eslint-disable-next-line no-control-regex\nvar emailRegex=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;var loginScreen=/*#__PURE__*/function(_React$Component){_inherits(loginScreen,_React$Component);var _super=_createSuper(loginScreen);function loginScreen(props){var _this;_classCallCheck(this,loginScreen);_this=_super.call(this,props);_this.state={userMail:\"\",userPassword:\"\",loginStat:false,mes:\"\"};_this.updateEmail=_this.updateEmail.bind(_assertThisInitialized(_this));_this.updatePassword=_this.updatePassword.bind(_assertThisInitialized(_this));_this.checkLoginData=_this.checkLoginData.bind(_assertThisInitialized(_this));_this.validateForPassword=_this.validateForPassword.bind(_assertThisInitialized(_this));_this.validateForEmail=_this.validateForEmail.bind(_assertThisInitialized(_this));return _this;}_createClass(loginScreen,[{key:\"updateEmail\",value:function updateEmail(event){this.setState({userMail:event.target.value});}},{key:\"updatePassword\",value:function updatePassword(event){this.setState({userPassword:event.target.value});}},{key:\"validateForEmail\",value:function validateForEmail(emailInput){if(emailInput.length<10){return{mes:\"Mail adresi çok kısa !\",stat:false};}else if(emailInput.length>50){}else if(emailInput.length>50){return{mes:\"Mail adresi çok uzun !\",stat:false};}else if(!emailRegex.test(emailInput)){return{mes:\"Mail adresi abc@desird.com.tr formatında olmalıdır !\",stat:false};}else if(emailInput.split(\"@\")[1]!==\"orema.com.tr\"&&emailInput.split(\"@\")[1]!==\"desird.com.tr\"){return{mes:\"Mail adresi abc@desird.com.tr formatında olmalıdır !\",stat:false};}else{return{mes:\"E Mail Validasyonu Okey\",stat:true};}}},{key:\"validateForPassword\",value:function validateForPassword(passwordInput){if(passwordInput.length<5){return{mes:\"Şifre 5 karakterden kısa olamaz !\",stat:false};}else if(passwordInput.length>12){return{mes:\"Şifre 12 karakterden uzun olamaz !\",stat:false};}else if(!passRegex.test(passwordInput)){return{mes:\"Şifrede özel karakter bulunamaz !\",stat:false};}else{return{mes:\"Giriş Başarılı\",stat:true};}}},{key:\"checkLoginData\",value:function checkLoginData(userMail,userPassword,props){var _this2=this;if(!this.validateForEmail(userMail).stat){this.setState({mes:this.validateForEmail(userMail).mes});}else if(!this.validateForPassword(userPassword).stat){this.setState({mes:this.validateForPassword(userPassword).mes});}else{var signatureExist=false;return api.get('/LoginSignatureValidation/'+this.state.userMail).then(function(response){signatureExist=response.data.stat;}).then(api.post('/login',{userMail:userMail,userPassword:userPassword}).then(function(res){if(res.data.stat){_this2.setState({loginStat:true});console.log(\"online olan userrrr::::\");console.log(res.data.onlineUser);_this2.props.setUser(res.data.onlineUser);if(!signatureExist){props.history.push({pathname:'/PersonelScreens/TakeTheSignature'});}else if(_this2.props.userStatus===1){props.history.push({pathname:'/PersonelScreens/PersonelNavigation'});}else{props.history.push({pathname:'/PersonelScreens/NavigateTheChief'});}}else if(!res.data.stat){console.log(res.data.mes);_this2.setState({mes:res.data.mes});}}));}}/*\r\n           Here the main div of the login screen.\r\n       */},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flex:4,flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",margin:\"0px\"}},/*#__PURE__*/React.createElement(\"img\",{src:Logo,style:{display:\"flex\",flexWrap:\"wrap\",flexDirection:\"column\",flex:1,height:\"20vh\",margin:\"10px\"},alt:\"Logo\"}),/*#__PURE__*/React.createElement(\"form\",{style:{margin:\"10px\"}},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:\"center\",margin:\"10px\"}},\" \\u0130Z\\u0130N B\\u0130LG\\u0130 S\\u0130STEM\\u0130\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"E-Posta\",onChange:this.updateEmail})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"\\u015Eifre\",onChange:this.updatePassword})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck1\"},\"Beni hat\\u0131rla\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block\",type:\"button\",onClick:function onClick(){_this3.checkLoginData(_this3.state.userMail,_this3.state.userPassword,_this3.props);}},\"Giri\\u015F\"),/*#__PURE__*/React.createElement(\"p\",{className:\"forgot-password text-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/PersonelScreens/ResetThePassword\"},\" \\u015Eifremi unuttum\")),/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:\"center\"}},this.state.mes)));}}]);return loginScreen;}(React.Component);export default connect(mapStateToProps,mapDispatchToProps)(loginScreen);","map":{"version":3,"sources":["C:/Users/kursa/IdeaProjects/devRep/src/PersonelScreens/LoginScreen.js"],"names":["React","Logo","Link","setOnlineUser","connect","axios","require","mapStateToProps","state","userID","userLoginReducer","userMail","chiefConfirmStatus","permissionReducer","proxyChiefID","personalName","userStatus","userSignature","chiefID","generalManagerID","userArea","mapDispatchToProps","dispatch","setUser","user","api","create","baseURL","passRegex","emailRegex","loginScreen","props","userPassword","loginStat","mes","updateEmail","bind","updatePassword","checkLoginData","validateForPassword","validateForEmail","event","setState","target","value","emailInput","length","stat","test","split","passwordInput","signatureExist","get","then","response","data","post","res","console","log","onlineUser","history","push","pathname","display","flex","flexDirection","justifyContent","alignItems","margin","flexWrap","height","textAlign","Component"],"mappings":"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","sourcesContent":["/*\r\n    Here the login screen that displayed at the beginning.Allows to user login , remember me and forgot password.\r\n    In addition company logo displayed at the top.\r\n*/\r\nimport React from \"react\";\r\nimport Logo from \"./SystemImages/CompanyLogo.png\";\r\nimport {Link} from \"react-router-dom\";\r\nimport setOnlineUser from \"../actions/userLoginActions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst axios = require('axios');\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userID: state.userLoginReducer.userID,\r\n        userMail: state.userLoginReducer.userMail,\r\n        chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,\r\n        proxyChiefID:state.userLoginReducer.proxyChiefID,\r\n        personalName: state.userLoginReducer.personalName,\r\n        userStatus: state.userLoginReducer.userStatus,\r\n        userSignature:state.userLoginReducer.userSignature,\r\n        chiefID: state.userLoginReducer.chiefID,\r\n        generalManagerID: state.userLoginReducer.generalManagerID,\r\n        userArea: state.userLoginReducer.userArea\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setUser: (user) => {\r\n            dispatch(setOnlineUser(user));\r\n        }\r\n    }\r\n};\r\n\r\nconst api = axios.create({\r\n    baseURL: `http://localhost:4000`\r\n})\r\nlet passRegex = /^[a-zA-Z0-9]{5,12}$/\r\n// eslint-disable-next-line no-control-regex\r\nlet emailRegex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\r\n\r\nclass loginScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userMail: \"\",\r\n            userPassword: \"\",\r\n            loginStat: false,\r\n            mes: \"\",\r\n\r\n        }\r\n\r\n        this.updateEmail = this.updateEmail.bind(this);\r\n        this.updatePassword = this.updatePassword.bind(this);\r\n        this.checkLoginData = this.checkLoginData.bind(this);\r\n        this.validateForPassword = this.validateForPassword.bind(this);\r\n        this.validateForEmail = this.validateForEmail.bind(this);\r\n\r\n    }\r\n\r\n    updateEmail(event) {\r\n        this.setState({userMail: event.target.value})\r\n    }\r\n\r\n    updatePassword(event) {\r\n        this.setState({userPassword: event.target.value})\r\n    }\r\n\r\n    validateForEmail(emailInput) {\r\n        if (emailInput.length < 10) {\r\n            return ({\r\n                mes: \"Mail adresi çok kısa !\",\r\n                stat: false\r\n            })\r\n\r\n        } else if (emailInput.length > 50) {\r\n\r\n        } else if (emailInput.length > 50) {\r\n            return ({\r\n                mes: \"Mail adresi çok uzun !\",\r\n                stat: false\r\n            })\r\n\r\n        } else if (!emailRegex.test(emailInput)) {\r\n            return ({\r\n                mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\r\n                stat: false\r\n            })\r\n        } else if (emailInput.split(\"@\")[1] !== \"orema.com.tr\" && emailInput.split(\"@\")[1] !== \"desird.com.tr\") {\r\n            return ({\r\n                mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\r\n                stat: false\r\n            })\r\n        } else {\r\n            return ({\r\n                mes: \"E Mail Validasyonu Okey\",\r\n                stat: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    validateForPassword(passwordInput) {\r\n        if (passwordInput.length < 5) {\r\n            return ({\r\n                mes: \"Şifre 5 karakterden kısa olamaz !\",\r\n                stat: false\r\n            })\r\n        } else if (passwordInput.length > 12) {\r\n            return ({\r\n                mes: \"Şifre 12 karakterden uzun olamaz !\",\r\n                stat: false\r\n            })\r\n        } else if (!passRegex.test(passwordInput)) {\r\n            return ({\r\n                mes: \"Şifrede özel karakter bulunamaz !\",\r\n                stat: false\r\n            })\r\n        } else {\r\n            return ({\r\n                mes: \"Giriş Başarılı\",\r\n                stat: true\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    checkLoginData(userMail, userPassword, props) {\r\n        if (!this.validateForEmail(userMail).stat) {\r\n            this.setState({\r\n                mes: this.validateForEmail(userMail).mes\r\n            })\r\n        } else if (!this.validateForPassword(userPassword).stat) {\r\n            this.setState({\r\n                mes: this.validateForPassword(userPassword).mes\r\n            })\r\n        } else {\r\n            let signatureExist = false;\r\n            return api.get('/LoginSignatureValidation/' + this.state.userMail)\r\n                .then(\r\n                    function (response) {\r\n                        signatureExist = response.data.stat;\r\n                    })\r\n                .then(\r\n                    api.post('/login',\r\n                        {\r\n                            userMail: userMail,\r\n                            userPassword: userPassword,\r\n                        })\r\n                        .then(res => {\r\n                        if (res.data.stat) {\r\n                            this.setState({\r\n                                loginStat: true\r\n                            })\r\n                            console.log(\"online olan userrrr::::\")\r\n                            console.log(res.data.onlineUser)\r\n\r\n                            this.props.setUser(res.data.onlineUser)\r\n\r\n                            if (!signatureExist) {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/TakeTheSignature',\r\n                                })\r\n                            }\r\n                            else if (this.props.userStatus === 1) {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/PersonelNavigation',\r\n                                })\r\n                            } else {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/NavigateTheChief',\r\n                                })\r\n                            }\r\n                        } else if (!res.data.stat) {\r\n                            console.log(res.data.mes)\r\n                            this.setState({\r\n                                mes: res.data.mes\r\n                            })\r\n                        }\r\n                    }))\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n           Here the main div of the login screen.\r\n       */\r\n    render() {\r\n\r\n        return (\r\n            <div style={{\r\n                display: \"flex\",\r\n                flex: 4,\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                margin: \"0px\"\r\n            }}>\r\n                {/*\r\n            Here the company logo.\r\n        */}\r\n                <img src={Logo} style={{\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    flexDirection: \"column\",\r\n                    flex: 1,\r\n                    height: \"20vh\",\r\n                    margin: \"10px\"\r\n                }}\r\n                     alt=\"Logo\"/>\r\n                <form style={{margin: \"10px\"}}>\r\n                    {/*\r\n                Here the header of the login screen.\r\n            */}\r\n                    <h3 style={{\r\n                        textAlign: \"center\",\r\n                        margin: \"10px\"\r\n                    }}> İZİN BİLGİ SİSTEMİ</h3>\r\n                    {/*\r\n                Here we take e-mail address of the user as a input.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <input type=\"email\" className=\"form-control\" placeholder=\"E-Posta\"\r\n                               onChange={this.updateEmail}/>\r\n                    </div>\r\n                    {/*\r\n                Here we take password of the user as a input.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Şifre\"\r\n                               onChange={this.updatePassword}/>\r\n                    </div>\r\n\r\n                    {/*\r\n               Here the remember me part as a check-box.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <div className=\"custom-control custom-checkbox\">\r\n                            <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\"/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Beni hatırla</label>\r\n                        </div>\r\n                    </div>\r\n                    {/*\r\n                Here the login button that allows to user login.\r\n            */}\r\n\r\n                    <button className=\"btn btn-primary btn-block\" type=\"button\"\r\n                            onClick={() => {\r\n                                this.checkLoginData(this.state.userMail, this.state.userPassword, this.props)\r\n                            }}>Giriş\r\n                    </button>\r\n                    {/*\r\n                Here the part of I forgot my password.\r\n            */}\r\n                    <p className=\"forgot-password text-right\">\r\n                        <Link to=\"/PersonelScreens/ResetThePassword\"> Şifremi unuttum</Link>\r\n                    </p>\r\n                    <p style={{textAlign: \"center\"}}>\r\n                        {this.state.mes}\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(loginScreen)\r\n;\r\n"]},"metadata":{},"sourceType":"module"}