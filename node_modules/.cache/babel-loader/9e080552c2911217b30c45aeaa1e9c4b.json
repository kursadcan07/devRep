{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\src\\\\PersonelScreens\\\\LoginScreen.js\";\n\n/*\r\n    Here the login screen that displayed at the beginning.Allows to user login , remember me and forgot password.\r\n    In addition company logo displayed at the top.\r\n*/\nimport React from \"react\";\nimport Logo from \"./SystemImages/CompanyLogo.png\";\nimport { Link } from \"react-router-dom\";\nimport setOnlineUser from \"../actions/userLoginActions\";\nimport { connect } from \"react-redux\";\n\nconst axios = require('axios');\n\nconst mapStateToProps = state => {\n  return {\n    userID: state.userLoginReducer.userID,\n    userMail: state.userLoginReducer.userMail,\n    proxyChiefID: state.userLoginReducer.proxyChiefID,\n    personalName: state.userLoginReducer.personalName,\n    userStatus: state.userLoginReducer.userStatus,\n    userSignature: state.userLoginReducer.userSignature,\n    chiefID: state.userLoginReducer.chiefID,\n    generalManagerID: state.userLoginReducer.generalManagerID,\n    userArea: state.userLoginReducer.userArea\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUser: user => {\n      dispatch(setOnlineUser(user));\n    }\n  };\n};\n\nconst api = axios.create({\n  baseURL: `http://localhost:4000`\n});\nlet passRegex = /^[a-zA-Z0-9]{5,12}$/; // eslint-disable-next-line no-control-regex\n\nlet emailRegex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n\nclass loginScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userMail: \"\",\n      userPassword: \"\",\n      loginStat: false,\n      mes: \"\"\n    };\n    this.updateEmail = this.updateEmail.bind(this);\n    this.updatePassword = this.updatePassword.bind(this);\n    this.checkLoginData = this.checkLoginData.bind(this);\n    this.validateForPassword = this.validateForPassword.bind(this);\n    this.validateForEmail = this.validateForEmail.bind(this);\n  }\n\n  updateEmail(event) {\n    this.setState({\n      userMail: event.target.value\n    });\n  }\n\n  updatePassword(event) {\n    this.setState({\n      userPassword: event.target.value\n    });\n  }\n\n  validateForEmail(emailInput) {\n    if (emailInput.length < 10) {\n      return {\n        mes: \"Mail adresi çok kısa !\",\n        stat: false\n      };\n    } else if (emailInput.length > 50) {} else if (emailInput.length > 50) {\n      return {\n        mes: \"Mail adresi çok uzun !\",\n        stat: false\n      };\n    } else if (!emailRegex.test(emailInput)) {\n      return {\n        mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\n        stat: false\n      };\n    } else if (emailInput.split(\"@\")[1] !== \"orema.com.tr\" && emailInput.split(\"@\")[1] !== \"desird.com.tr\") {\n      return {\n        mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\n        stat: false\n      };\n    } else {\n      return {\n        mes: \"E Mail Validasyonu Okey\",\n        stat: true\n      };\n    }\n  }\n\n  validateForPassword(passwordInput) {\n    if (passwordInput.length < 5) {\n      return {\n        mes: \"Şifre 5 karakterden kısa olamaz !\",\n        stat: false\n      };\n    } else if (passwordInput.length > 12) {\n      return {\n        mes: \"Şifre 12 karakterden uzun olamaz !\",\n        stat: false\n      };\n    } else if (!passRegex.test(passwordInput)) {\n      return {\n        mes: \"Şifrede özel karakter bulunamaz !\",\n        stat: false\n      };\n    } else {\n      return {\n        mes: \"Giriş Başarılı\",\n        stat: true\n      };\n    }\n  }\n\n  checkLoginData(userMail, userPassword, props) {\n    if (!this.validateForEmail(userMail).stat) {\n      this.setState({\n        mes: this.validateForEmail(userMail).mes\n      });\n    } else if (!this.validateForPassword(userPassword).stat) {\n      this.setState({\n        mes: this.validateForPassword(userPassword).mes\n      });\n    } else {\n      let signatureExist = false;\n      return api.get('/LoginSignatureValidation/' + this.state.userMail).then(function (response) {\n        signatureExist = response.data.stat;\n      }).then(api.post('/login', {\n        userMail: userMail,\n        userPassword: userPassword\n      }).then(res => {\n        if (res.data.stat) {\n          this.setState({\n            loginStat: true\n          });\n          console.log(\"online olan userrrr::::\");\n          console.log(res.data.onlineUser);\n          this.props.setUser(res.data.onlineUser);\n\n          if (!signatureExist) {\n            props.history.push({\n              pathname: '/PersonelScreens/TakeTheSignature'\n            });\n          } else if (this.props.userStatus === 1) {\n            props.history.push({\n              pathname: '/PersonelScreens/PersonelNavigation'\n            });\n          } else {\n            props.history.push({\n              pathname: '/PersonelScreens/NavigateTheChief'\n            });\n          }\n        } else if (!res.data.stat) {\n          console.log(res.data.mes);\n          this.setState({\n            mes: res.data.mes\n          });\n        }\n      }));\n    }\n  }\n  /*\r\n         Here the main div of the login screen.\r\n     */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flex: 4,\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Logo,\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexDirection: \"column\",\n        flex: 1,\n        height: \"20vh\",\n        margin: \"10px\"\n      },\n      alt: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      style: {\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        textAlign: \"center\",\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, \" \\u0130Z\\u0130N B\\u0130LG\\u0130 S\\u0130STEM\\u0130\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"E-Posta\",\n      onChange: this.updateEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"\\u015Eifre\",\n      onChange: this.updatePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-control custom-checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"custom-control-input\",\n      id: \"customCheck1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"customCheck1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }, \"Beni hat\\u0131rla\"))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-block\",\n      type: \"button\",\n      onClick: () => {\n        this.checkLoginData(this.state.userMail, this.state.userPassword, this.props);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }, \"Giri\\u015F\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"forgot-password text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/PersonelScreens/ResetThePassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    }, \" \\u015Eifremi unuttum\")), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }, this.state.mes)));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(loginScreen);","map":{"version":3,"sources":["C:/Users/kursa/IdeaProjects/devRep/src/PersonelScreens/LoginScreen.js"],"names":["React","Logo","Link","setOnlineUser","connect","axios","require","mapStateToProps","state","userID","userLoginReducer","userMail","proxyChiefID","personalName","userStatus","userSignature","chiefID","generalManagerID","userArea","mapDispatchToProps","dispatch","setUser","user","api","create","baseURL","passRegex","emailRegex","loginScreen","Component","constructor","props","userPassword","loginStat","mes","updateEmail","bind","updatePassword","checkLoginData","validateForPassword","validateForEmail","event","setState","target","value","emailInput","length","stat","test","split","passwordInput","signatureExist","get","then","response","data","post","res","console","log","onlineUser","history","push","pathname","render","display","flex","flexDirection","justifyContent","alignItems","margin","flexWrap","height","textAlign"],"mappings":";;AAAA;;;;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,gCAAjB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAAQC,OAAR,QAAsB,aAAtB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHC,IAAAA,MAAM,EAAED,KAAK,CAACE,gBAAN,CAAuBD,MAD5B;AAEHE,IAAAA,QAAQ,EAAEH,KAAK,CAACE,gBAAN,CAAuBC,QAF9B;AAGHC,IAAAA,YAAY,EAACJ,KAAK,CAACE,gBAAN,CAAuBE,YAHjC;AAIHC,IAAAA,YAAY,EAAEL,KAAK,CAACE,gBAAN,CAAuBG,YAJlC;AAKHC,IAAAA,UAAU,EAAEN,KAAK,CAACE,gBAAN,CAAuBI,UALhC;AAMHC,IAAAA,aAAa,EAACP,KAAK,CAACE,gBAAN,CAAuBK,aANlC;AAOHC,IAAAA,OAAO,EAAER,KAAK,CAACE,gBAAN,CAAuBM,OAP7B;AAQHC,IAAAA,gBAAgB,EAAET,KAAK,CAACE,gBAAN,CAAuBO,gBARtC;AASHC,IAAAA,QAAQ,EAAEV,KAAK,CAACE,gBAAN,CAAuBQ;AAT9B,GAAP;AAWH,CAZD;;AAcA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACHC,IAAAA,OAAO,EAAGC,IAAD,IAAU;AACfF,MAAAA,QAAQ,CAACjB,aAAa,CAACmB,IAAD,CAAd,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQA,MAAMC,GAAG,GAAGlB,KAAK,CAACmB,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAG;AADW,CAAb,CAAZ;AAGA,IAAIC,SAAS,GAAG,qBAAhB,C,CACA;;AACA,IAAIC,UAAU,GAAG,gcAAjB;;AAEA,MAAMC,WAAN,SAA0B5B,KAAK,CAAC6B,SAAhC,CAA0C;AACtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKvB,KAAL,GAAa;AACTG,MAAAA,QAAQ,EAAE,EADD;AAETqB,MAAAA,YAAY,EAAE,EAFL;AAGTC,MAAAA,SAAS,EAAE,KAHF;AAITC,MAAAA,GAAG,EAAE;AAJI,KAAb;AAQA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBH,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKI,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAAxB;AAEH;;AAEDD,EAAAA,WAAW,CAACM,KAAD,EAAQ;AACf,SAAKC,QAAL,CAAc;AAAC/B,MAAAA,QAAQ,EAAE8B,KAAK,CAACE,MAAN,CAAaC;AAAxB,KAAd;AACH;;AAEDP,EAAAA,cAAc,CAACI,KAAD,EAAQ;AAClB,SAAKC,QAAL,CAAc;AAACV,MAAAA,YAAY,EAAES,KAAK,CAACE,MAAN,CAAaC;AAA5B,KAAd;AACH;;AAEDJ,EAAAA,gBAAgB,CAACK,UAAD,EAAa;AACzB,QAAIA,UAAU,CAACC,MAAX,GAAoB,EAAxB,EAA4B;AACxB,aAAQ;AACJZ,QAAAA,GAAG,EAAE,wBADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAKH,KAND,MAMO,IAAIF,UAAU,CAACC,MAAX,GAAoB,EAAxB,EAA4B,CAElC,CAFM,MAEA,IAAID,UAAU,CAACC,MAAX,GAAoB,EAAxB,EAA4B;AAC/B,aAAQ;AACJZ,QAAAA,GAAG,EAAE,wBADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAKH,KANM,MAMA,IAAI,CAACpB,UAAU,CAACqB,IAAX,CAAgBH,UAAhB,CAAL,EAAkC;AACrC,aAAQ;AACJX,QAAAA,GAAG,EAAE,sDADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH,KALM,MAKA,IAAIF,UAAU,CAACI,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,MAA6B,cAA7B,IAA+CJ,UAAU,CAACI,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,MAA6B,eAAhF,EAAiG;AACpG,aAAQ;AACJf,QAAAA,GAAG,EAAE,sDADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH,KALM,MAKA;AACH,aAAQ;AACJb,QAAAA,GAAG,EAAE,yBADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH;AAEJ;;AAEDR,EAAAA,mBAAmB,CAACW,aAAD,EAAgB;AAC/B,QAAIA,aAAa,CAACJ,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,aAAQ;AACJZ,QAAAA,GAAG,EAAE,mCADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH,KALD,MAKO,IAAIG,aAAa,CAACJ,MAAd,GAAuB,EAA3B,EAA+B;AAClC,aAAQ;AACJZ,QAAAA,GAAG,EAAE,oCADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH,KALM,MAKA,IAAI,CAACrB,SAAS,CAACsB,IAAV,CAAeE,aAAf,CAAL,EAAoC;AACvC,aAAQ;AACJhB,QAAAA,GAAG,EAAE,mCADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH,KALM,MAKA;AACH,aAAQ;AACJb,QAAAA,GAAG,EAAE,gBADD;AAEJa,QAAAA,IAAI,EAAE;AAFF,OAAR;AAIH;AACJ;;AAGDT,EAAAA,cAAc,CAAC3B,QAAD,EAAWqB,YAAX,EAAyBD,KAAzB,EAAgC;AAC1C,QAAI,CAAC,KAAKS,gBAAL,CAAsB7B,QAAtB,EAAgCoC,IAArC,EAA2C;AACvC,WAAKL,QAAL,CAAc;AACVR,QAAAA,GAAG,EAAE,KAAKM,gBAAL,CAAsB7B,QAAtB,EAAgCuB;AAD3B,OAAd;AAGH,KAJD,MAIO,IAAI,CAAC,KAAKK,mBAAL,CAAyBP,YAAzB,EAAuCe,IAA5C,EAAkD;AACrD,WAAKL,QAAL,CAAc;AACVR,QAAAA,GAAG,EAAE,KAAKK,mBAAL,CAAyBP,YAAzB,EAAuCE;AADlC,OAAd;AAGH,KAJM,MAIA;AACH,UAAIiB,cAAc,GAAG,KAArB;AACA,aAAO5B,GAAG,CAAC6B,GAAJ,CAAQ,+BAA+B,KAAK5C,KAAL,CAAWG,QAAlD,EACF0C,IADE,CAEC,UAAUC,QAAV,EAAoB;AAChBH,QAAAA,cAAc,GAAGG,QAAQ,CAACC,IAAT,CAAcR,IAA/B;AACH,OAJF,EAKFM,IALE,CAMC9B,GAAG,CAACiC,IAAJ,CAAS,QAAT,EACI;AACI7C,QAAAA,QAAQ,EAAEA,QADd;AAEIqB,QAAAA,YAAY,EAAEA;AAFlB,OADJ,EAKKqB,IALL,CAKUI,GAAG,IAAI;AACb,YAAIA,GAAG,CAACF,IAAJ,CAASR,IAAb,EAAmB;AACf,eAAKL,QAAL,CAAc;AACVT,YAAAA,SAAS,EAAE;AADD,WAAd;AAGAyB,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACF,IAAJ,CAASK,UAArB;AAEA,eAAK7B,KAAL,CAAWV,OAAX,CAAmBoC,GAAG,CAACF,IAAJ,CAASK,UAA5B;;AAEA,cAAI,CAACT,cAAL,EAAqB;AACjBpB,YAAAA,KAAK,CAAC8B,OAAN,CAAcC,IAAd,CAAmB;AACfC,cAAAA,QAAQ,EAAE;AADK,aAAnB;AAGH,WAJD,MAKK,IAAI,KAAKhC,KAAL,CAAWjB,UAAX,KAA0B,CAA9B,EAAiC;AAClCiB,YAAAA,KAAK,CAAC8B,OAAN,CAAcC,IAAd,CAAmB;AACfC,cAAAA,QAAQ,EAAE;AADK,aAAnB;AAGH,WAJI,MAIE;AACHhC,YAAAA,KAAK,CAAC8B,OAAN,CAAcC,IAAd,CAAmB;AACfC,cAAAA,QAAQ,EAAE;AADK,aAAnB;AAGH;AACJ,SAvBD,MAuBO,IAAI,CAACN,GAAG,CAACF,IAAJ,CAASR,IAAd,EAAoB;AACvBW,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACF,IAAJ,CAASrB,GAArB;AACA,eAAKQ,QAAL,CAAc;AACVR,YAAAA,GAAG,EAAEuB,GAAG,CAACF,IAAJ,CAASrB;AADJ,WAAd;AAGH;AACJ,OAnCD,CAND,CAAP;AA0CH;AACJ;AAGD;;;;;AAGA8B,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAK,MAAA,KAAK,EAAE;AACRC,QAAAA,OAAO,EAAE,MADD;AAERC,QAAAA,IAAI,EAAE,CAFE;AAGRC,QAAAA,aAAa,EAAE,QAHP;AAIRC,QAAAA,cAAc,EAAE,QAJR;AAKRC,QAAAA,UAAU,EAAE,QALJ;AAMRC,QAAAA,MAAM,EAAE;AANA,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWI;AAAK,MAAA,GAAG,EAAErE,IAAV;AAAgB,MAAA,KAAK,EAAE;AACnBgE,QAAAA,OAAO,EAAE,MADU;AAEnBM,QAAAA,QAAQ,EAAE,MAFS;AAGnBJ,QAAAA,aAAa,EAAE,QAHI;AAInBD,QAAAA,IAAI,EAAE,CAJa;AAKnBM,QAAAA,MAAM,EAAE,MALW;AAMnBF,QAAAA,MAAM,EAAE;AANW,OAAvB;AAQK,MAAA,GAAG,EAAC,MART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,eAoBI;AAAM,MAAA,KAAK,EAAE;AAACA,QAAAA,MAAM,EAAE;AAAT,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAI,MAAA,KAAK,EAAE;AACPG,QAAAA,SAAS,EAAE,QADJ;AAEPH,QAAAA,MAAM,EAAE;AAFD,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAJJ,eAWI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAC,cAA9B;AAA6C,MAAA,WAAW,EAAC,SAAzD;AACO,MAAA,QAAQ,EAAE,KAAKnC,WADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAXJ,eAkBI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,cAAjC;AAAgD,MAAA,WAAW,EAAC,YAA5D;AACO,MAAA,QAAQ,EAAE,KAAKE,cADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAlBJ,eA0BI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,sBAAjC;AAAwD,MAAA,EAAE,EAAC,cAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAwC,MAAA,OAAO,EAAC,cAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,CADJ,CA1BJ,eAoCI;AAAQ,MAAA,SAAS,EAAC,2BAAlB;AAA8C,MAAA,IAAI,EAAC,QAAnD;AACQ,MAAA,OAAO,EAAE,MAAM;AACX,aAAKC,cAAL,CAAoB,KAAK9B,KAAL,CAAWG,QAA/B,EAAyC,KAAKH,KAAL,CAAWwB,YAApD,EAAkE,KAAKD,KAAvE;AACH,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBApCJ,eA4CI;AAAG,MAAA,SAAS,EAAC,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,mCAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,CA5CJ,eA+CI;AAAG,MAAA,KAAK,EAAE;AAAC0C,QAAAA,SAAS,EAAE;AAAZ,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKjE,KAAL,CAAW0B,GADhB,CA/CJ,CApBJ,CADJ;AA0EH;;AA9NqC;;AAiO1C,eAAe9B,OAAO,CAACG,eAAD,EAAkBY,kBAAlB,CAAP,CAA6CS,WAA7C,CAAf","sourcesContent":["/*\r\n    Here the login screen that displayed at the beginning.Allows to user login , remember me and forgot password.\r\n    In addition company logo displayed at the top.\r\n*/\r\nimport React from \"react\";\r\nimport Logo from \"./SystemImages/CompanyLogo.png\";\r\nimport {Link} from \"react-router-dom\";\r\nimport setOnlineUser from \"../actions/userLoginActions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst axios = require('axios');\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userID: state.userLoginReducer.userID,\r\n        userMail: state.userLoginReducer.userMail,\r\n        proxyChiefID:state.userLoginReducer.proxyChiefID,\r\n        personalName: state.userLoginReducer.personalName,\r\n        userStatus: state.userLoginReducer.userStatus,\r\n        userSignature:state.userLoginReducer.userSignature,\r\n        chiefID: state.userLoginReducer.chiefID,\r\n        generalManagerID: state.userLoginReducer.generalManagerID,\r\n        userArea: state.userLoginReducer.userArea\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setUser: (user) => {\r\n            dispatch(setOnlineUser(user));\r\n        }\r\n    }\r\n};\r\n\r\nconst api = axios.create({\r\n    baseURL: `http://localhost:4000`\r\n})\r\nlet passRegex = /^[a-zA-Z0-9]{5,12}$/\r\n// eslint-disable-next-line no-control-regex\r\nlet emailRegex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\r\n\r\nclass loginScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userMail: \"\",\r\n            userPassword: \"\",\r\n            loginStat: false,\r\n            mes: \"\",\r\n\r\n        }\r\n\r\n        this.updateEmail = this.updateEmail.bind(this);\r\n        this.updatePassword = this.updatePassword.bind(this);\r\n        this.checkLoginData = this.checkLoginData.bind(this);\r\n        this.validateForPassword = this.validateForPassword.bind(this);\r\n        this.validateForEmail = this.validateForEmail.bind(this);\r\n\r\n    }\r\n\r\n    updateEmail(event) {\r\n        this.setState({userMail: event.target.value})\r\n    }\r\n\r\n    updatePassword(event) {\r\n        this.setState({userPassword: event.target.value})\r\n    }\r\n\r\n    validateForEmail(emailInput) {\r\n        if (emailInput.length < 10) {\r\n            return ({\r\n                mes: \"Mail adresi çok kısa !\",\r\n                stat: false\r\n            })\r\n\r\n        } else if (emailInput.length > 50) {\r\n\r\n        } else if (emailInput.length > 50) {\r\n            return ({\r\n                mes: \"Mail adresi çok uzun !\",\r\n                stat: false\r\n            })\r\n\r\n        } else if (!emailRegex.test(emailInput)) {\r\n            return ({\r\n                mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\r\n                stat: false\r\n            })\r\n        } else if (emailInput.split(\"@\")[1] !== \"orema.com.tr\" && emailInput.split(\"@\")[1] !== \"desird.com.tr\") {\r\n            return ({\r\n                mes: \"Mail adresi abc@desird.com.tr formatında olmalıdır !\",\r\n                stat: false\r\n            })\r\n        } else {\r\n            return ({\r\n                mes: \"E Mail Validasyonu Okey\",\r\n                stat: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    validateForPassword(passwordInput) {\r\n        if (passwordInput.length < 5) {\r\n            return ({\r\n                mes: \"Şifre 5 karakterden kısa olamaz !\",\r\n                stat: false\r\n            })\r\n        } else if (passwordInput.length > 12) {\r\n            return ({\r\n                mes: \"Şifre 12 karakterden uzun olamaz !\",\r\n                stat: false\r\n            })\r\n        } else if (!passRegex.test(passwordInput)) {\r\n            return ({\r\n                mes: \"Şifrede özel karakter bulunamaz !\",\r\n                stat: false\r\n            })\r\n        } else {\r\n            return ({\r\n                mes: \"Giriş Başarılı\",\r\n                stat: true\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    checkLoginData(userMail, userPassword, props) {\r\n        if (!this.validateForEmail(userMail).stat) {\r\n            this.setState({\r\n                mes: this.validateForEmail(userMail).mes\r\n            })\r\n        } else if (!this.validateForPassword(userPassword).stat) {\r\n            this.setState({\r\n                mes: this.validateForPassword(userPassword).mes\r\n            })\r\n        } else {\r\n            let signatureExist = false;\r\n            return api.get('/LoginSignatureValidation/' + this.state.userMail)\r\n                .then(\r\n                    function (response) {\r\n                        signatureExist = response.data.stat;\r\n                    })\r\n                .then(\r\n                    api.post('/login',\r\n                        {\r\n                            userMail: userMail,\r\n                            userPassword: userPassword,\r\n                        })\r\n                        .then(res => {\r\n                        if (res.data.stat) {\r\n                            this.setState({\r\n                                loginStat: true\r\n                            })\r\n                            console.log(\"online olan userrrr::::\")\r\n                            console.log(res.data.onlineUser)\r\n\r\n                            this.props.setUser(res.data.onlineUser)\r\n\r\n                            if (!signatureExist) {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/TakeTheSignature',\r\n                                })\r\n                            }\r\n                            else if (this.props.userStatus === 1) {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/PersonelNavigation',\r\n                                })\r\n                            } else {\r\n                                props.history.push({\r\n                                    pathname: '/PersonelScreens/NavigateTheChief',\r\n                                })\r\n                            }\r\n                        } else if (!res.data.stat) {\r\n                            console.log(res.data.mes)\r\n                            this.setState({\r\n                                mes: res.data.mes\r\n                            })\r\n                        }\r\n                    }))\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n           Here the main div of the login screen.\r\n       */\r\n    render() {\r\n\r\n        return (\r\n            <div style={{\r\n                display: \"flex\",\r\n                flex: 4,\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                margin: \"0px\"\r\n            }}>\r\n                {/*\r\n            Here the company logo.\r\n        */}\r\n                <img src={Logo} style={{\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    flexDirection: \"column\",\r\n                    flex: 1,\r\n                    height: \"20vh\",\r\n                    margin: \"10px\"\r\n                }}\r\n                     alt=\"Logo\"/>\r\n                <form style={{margin: \"10px\"}}>\r\n                    {/*\r\n                Here the header of the login screen.\r\n            */}\r\n                    <h3 style={{\r\n                        textAlign: \"center\",\r\n                        margin: \"10px\"\r\n                    }}> İZİN BİLGİ SİSTEMİ</h3>\r\n                    {/*\r\n                Here we take e-mail address of the user as a input.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <input type=\"email\" className=\"form-control\" placeholder=\"E-Posta\"\r\n                               onChange={this.updateEmail}/>\r\n                    </div>\r\n                    {/*\r\n                Here we take password of the user as a input.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Şifre\"\r\n                               onChange={this.updatePassword}/>\r\n                    </div>\r\n\r\n                    {/*\r\n               Here the remember me part as a check-box.\r\n            */}\r\n                    <div className=\"form-group\">\r\n                        <div className=\"custom-control custom-checkbox\">\r\n                            <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\"/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Beni hatırla</label>\r\n                        </div>\r\n                    </div>\r\n                    {/*\r\n                Here the login button that allows to user login.\r\n            */}\r\n\r\n                    <button className=\"btn btn-primary btn-block\" type=\"button\"\r\n                            onClick={() => {\r\n                                this.checkLoginData(this.state.userMail, this.state.userPassword, this.props)\r\n                            }}>Giriş\r\n                    </button>\r\n                    {/*\r\n                Here the part of I forgot my password.\r\n            */}\r\n                    <p className=\"forgot-password text-right\">\r\n                        <Link to=\"/PersonelScreens/ResetThePassword\"> Şifremi unuttum</Link>\r\n                    </p>\r\n                    <p style={{textAlign: \"center\"}}>\r\n                        {this.state.mes}\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(loginScreen)\r\n;\r\n"]},"metadata":{},"sourceType":"module"}