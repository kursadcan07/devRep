{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\kursa\\\\IdeaProjects\\\\devRep\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import StickyHeadTable from\"./StickyHeadTable\";import{connect}from\"react-redux\";import Switch from\"@material-ui/core/Switch\";import{Bounce}from\"react-reveal\";var axios=require('axios');var api=axios.create({baseURL:\"http://localhost:4000\"});var mapStateToProps=function mapStateToProps(state){return{userStatus:state.userLoginReducer.userStatus,displayStatus:state.userLoginReducer.displayStatus,userID:state.userLoginReducer.userID,chiefID:state.userLoginReducer.chiefID,proxyChiefID:state.userLoginReducer.proxyChiefID,generalManagerID:state.userLoginReducer.generalManagerID,chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,permissionDescription:state.permissionReducer.permissionDescription,personalName:state.userLoginReducer.personalName,beginDateOfPermission:state.permissionReducer.beginDateOfPermission,endDateOfPermission:state.permissionReducer.endDateOfPermission,isPermissionActive:state.permissionReducer.isPermissionActive,begDateSelectionStat:state.permissionReducer.begDateSelectionStat||false,endDateSelectionStat:state.permissionReducer.endDateSelectionStat||false,selectVehicleUsageName:state.permissionReducer.selectVehicleUsageName,selectVehicleUsageID:state.permissionReducer.selectVehicleUsageID,priceOfTrainOrBus:state.permissionReducer.priceOfTrainOrBus,totalDistanceOfIndividualCar:state.permissionReducer.totalDistanceOfIndividualCar,foldCode:state.permissionReducer.foldCode,areaCode:state.permissionReducer.areaCode,displayThePermissionName:state.permissionReducer.displayThePermissionName,setPermissionType:state.permissionReducer.setPermissionType};};function createData(userStatus,permissionID,beginDateOfPermission,endDateOfPermission,chiefConfirmStatus,generalManagerConfirmStatus,chiefsDescription,generalManagerDescription){return{userStatus:userStatus,permissionID:permissionID,beginDateOfPermission:beginDateOfPermission,endDateOfPermission:endDateOfPermission,chiefConfirmStatus:chiefConfirmStatus,generalManagerConfirmStatus:generalManagerConfirmStatus,chiefsDescription:chiefsDescription,generalManagerDescription:generalManagerDescription};}var PreviousPermissions=/*#__PURE__*/function(_React$Component){_inherits(PreviousPermissions,_React$Component);var _super=_createSuper(PreviousPermissions);function PreviousPermissions(props){var _this;_classCallCheck(this,PreviousPermissions);_this=_super.call(this,props);_this.state={data:[],isActive:true,activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"};_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.getDataForChief=_this.getDataForChief.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.bringHeader=_this.bringHeader.bind(_assertThisInitialized(_this));_this.getDataForProxyChief=_this.getDataForProxyChief.bind(_assertThisInitialized(_this));if(_this.props.userStatus===1){_this.getData().then(function(data){_this.setState({data:data});});}else if(_this.props.userStatus===2){if(_this.props.displayStatus===1){_this.getData(_this.props.userID).then(function(data){_this.setState({data:data});});}else{if(_this.props.proxyChiefID!==-1000){_this.getDataForChief(_this.props.userID).then(function(data){_this.setState({data:data});});}else{_this.getDataForProxyChief(_this.props.userID).then(function(data){_this.setState({data:data});});}}}else if(_this.props.userStatus===3){if(_this.props.displayStatus===1){_this.getData(_this.props.userID).then(function(data){_this.setState({data:data});});}else{console.log(_this.props.userID,\"Selam\");_this.getDataForGeneralManager(_this.props.userID).then(function(data){_this.setState({data:data});});}}return _this;}_createClass(PreviousPermissions,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.userStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else if(this.props.userStatus===2){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else{if(this.props.proxyChiefID!==-1000){this.getDataForChief(this.props.userID).then(function(data){_this2.setState({data:data});});}else{this.getDataForProxyChief(this.props.userID).then(function(data){_this2.setState({data:data});});}}}else if(this.props.userStatus===3){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this2.setState({data:data});});}else{this.getDataForGeneralManager(this.props.userID).then(function(data){_this2.setState({data:data});});}}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(prevState.isActive!==this.state.isActive){if(this.props.userStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else if(this.props.userStatus===2){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else{if(this.props.proxyChiefID!==-1000){this.getDataForChief(this.props.userID).then(function(data){_this3.setState({data:data});});}else{this.getDataForProxyChief(this.props.userID).then(function(data){_this3.setState({data:data});});}}}else if(this.props.userStatus===3){if(this.props.displayStatus===1){this.getData(this.props.userID).then(function(data){_this3.setState({data:data});});}else{this.getDataForGeneralManager(this.props.userID).then(function(data){_this3.setState({data:data});});}}}}},{key:\"getData\",value:function getData(userID){var arr=[];var arr2=[];return api.get('/displayUsersPermissions/'+userID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForChief\",value:function getDataForChief(chiefID){console.log(\"DERLER Kİİİİ\");console.log(this.props);var arr=[];var arr2=[];return api.get('/displayPermissionsForChief/'+chiefID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForProxyChief\",value:function getDataForProxyChief(proxyChiefID){var arr=[];var arr2=[];return api.get('/displayPermissionsForProxyChief/'+proxyChiefID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"getDataForGeneralManager\",value:function getDataForGeneralManager(generalManagerID){var arr=[];var arr2=[];return api.get('/displayPermissionsForGeneralManager/'+generalManagerID+'/'+this.state.isActive).then(function(response){Object.keys(response.data.prevPerms).forEach(function(key){arr.push(response.data.prevPerms[key]);});for(var i=0;i<arr.length;i++){arr2.push(createData(arr[i].userStatus,arr[i].permissionID,arr[i].beginDateOfPermission,arr[i].endDateOfPermission,arr[i].chiefConfirmStatus,arr[i].generalManagerConfirmStatus,arr[i].chiefsDescription,arr[i].generalManagerDescription));}return arr2;});}},{key:\"handleChange\",value:function handleChange(event){this.setState({isActive:!this.state.isActive});if(event.target.checked){this.setState({activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"});}else{this.setState({activePassiveHeader:\"GEÇMİŞ İZİN TALEPLERİ\"});}this.getData();}},{key:\"bringHeader\",value:function bringHeader(){return/*#__PURE__*/React.createElement(Bounce,null,this.state.isActive?\"AKTİF İZİN TALEPLERİ\":\"GEÇMİŞ İZİN TALEPLERİ\");}},{key:\"render\",value:function render(){console.log(\"------------\");console.log(this.state.data);console.log(\"------------\");return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",flex:3}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginTop:\"20px\",textAlign:\"center\",flex:2}},/*#__PURE__*/React.createElement(\"h1\",{style:{display:\"flex\",flex:2,justifyContent:\"center\",flexDirection:\"column\",fontSize:\"40px\",width:\"100%\"}},this.bringHeader()),/*#__PURE__*/React.createElement(Switch,{style:{display:\"flex\",margin:\"0\"},checked:this.state.isActive,onChange:this.handleChange,color:\"primary\",name:\"isActive\",inputProps:{'aria-label':'primary checkbox'}})),/*#__PURE__*/React.createElement(StickyHeadTable,{rows:this.state.data}));}}]);return PreviousPermissions;}(React.Component);export default connect(mapStateToProps)(PreviousPermissions);","map":{"version":3,"sources":["C:/Users/kursa/IdeaProjects/devRep/src/PersonelScreens/PreviousPermissions.js"],"names":["React","StickyHeadTable","connect","Switch","Bounce","axios","require","api","create","baseURL","mapStateToProps","state","userStatus","userLoginReducer","displayStatus","userID","chiefID","proxyChiefID","generalManagerID","chiefConfirmStatus","permissionReducer","permissionDescription","personalName","beginDateOfPermission","endDateOfPermission","isPermissionActive","begDateSelectionStat","endDateSelectionStat","selectVehicleUsageName","selectVehicleUsageID","priceOfTrainOrBus","totalDistanceOfIndividualCar","foldCode","areaCode","displayThePermissionName","setPermissionType","createData","permissionID","generalManagerConfirmStatus","chiefsDescription","generalManagerDescription","PreviousPermissions","props","data","isActive","activePassiveHeader","getData","bind","getDataForChief","handleChange","bringHeader","getDataForProxyChief","then","setState","console","log","getDataForGeneralManager","prevProps","prevState","arr","arr2","get","response","Object","keys","prevPerms","forEach","key","push","i","length","event","target","checked","display","flexDirection","justifyContent","flex","marginTop","textAlign","fontSize","width","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport StickyHeadTable from \"./StickyHeadTable\";\r\nimport {connect} from \"react-redux\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport {Bounce} from \"react-reveal\";\r\n\r\nconst axios = require('axios');\r\n\r\nconst api = axios.create({\r\n    baseURL: `http://localhost:4000`\r\n})\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n\r\n        userStatus: state.userLoginReducer.userStatus,\r\n        displayStatus: state.userLoginReducer.displayStatus,\r\n\r\n        userID: state.userLoginReducer.userID,\r\n        chiefID: state.userLoginReducer.chiefID,\r\n        proxyChiefID:state.userLoginReducer.proxyChiefID,\r\n        generalManagerID: state.userLoginReducer.generalManagerID,\r\n        chiefConfirmStatus:state.permissionReducer.chiefConfirmStatus,\r\n\r\n        permissionDescription: state.permissionReducer.permissionDescription,\r\n        personalName: state.userLoginReducer.personalName,\r\n        beginDateOfPermission: state.permissionReducer.beginDateOfPermission,\r\n        endDateOfPermission: state.permissionReducer.endDateOfPermission,\r\n        isPermissionActive: state.permissionReducer.isPermissionActive,\r\n\r\n        begDateSelectionStat: state.permissionReducer.begDateSelectionStat || false,\r\n        endDateSelectionStat: state.permissionReducer.endDateSelectionStat || false,\r\n\r\n        selectVehicleUsageName: state.permissionReducer.selectVehicleUsageName,\r\n        selectVehicleUsageID: state.permissionReducer.selectVehicleUsageID,\r\n        priceOfTrainOrBus: state.permissionReducer.priceOfTrainOrBus,\r\n        totalDistanceOfIndividualCar: state.permissionReducer.totalDistanceOfIndividualCar,\r\n\r\n        foldCode: state.permissionReducer.foldCode,\r\n        areaCode: state.permissionReducer.areaCode,\r\n\r\n        displayThePermissionName: state.permissionReducer.displayThePermissionName,\r\n        setPermissionType: state.permissionReducer.setPermissionType,\r\n\r\n    }\r\n};\r\n\r\nfunction createData(userStatus, permissionID, beginDateOfPermission, endDateOfPermission, chiefConfirmStatus, generalManagerConfirmStatus, chiefsDescription, generalManagerDescription) {\r\n    return {\r\n        userStatus,\r\n        permissionID,\r\n        beginDateOfPermission,\r\n        endDateOfPermission,\r\n        chiefConfirmStatus,\r\n        generalManagerConfirmStatus,\r\n        chiefsDescription,\r\n        generalManagerDescription\r\n    };\r\n}\r\n\r\nclass PreviousPermissions extends React.Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            isActive: true,\r\n            activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\r\n        }\r\n        this.getData = this.getData.bind(this);\r\n        this.getDataForChief = this.getDataForChief.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.bringHeader = this.bringHeader.bind(this);\r\n        this.getDataForProxyChief=this.getDataForProxyChief.bind(this);\r\n\r\n\r\n        if (this.props.userStatus === 1) {\r\n            this.getData().then((data) => {\r\n                this.setState({data: data})\r\n            });\r\n        } else if (this.props.userStatus === 2) {\r\n\r\n            if (this.props.displayStatus === 1) {\r\n                this.getData(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            } else {\r\n                if(this.props.proxyChiefID!==-1000){\r\n                    this.getDataForChief(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n                }else{\r\n                    this.getDataForProxyChief(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n        } else if (this.props.userStatus === 3) {\r\n\r\n            if (this.props.displayStatus === 1) {\r\n                this.getData(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            } else {\r\n                console.log(this.props.userID,\"Selam\");\r\n                this.getDataForGeneralManager(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.userStatus === 1) {\r\n            this.getData(this.props.userID).then((data) => {\r\n                this.setState({data: data})\r\n            });\r\n        } else if (this.props.userStatus === 2) {\r\n            if (this.props.displayStatus === 1) {\r\n                this.getData(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            } else {\r\n                if(this.props.proxyChiefID!==-1000){\r\n                    this.getDataForChief(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n                }else{\r\n                    this.getDataForProxyChief(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n\r\n                }\r\n            }\r\n\r\n        } else if (this.props.userStatus === 3) {\r\n            if (this.props.displayStatus === 1) {\r\n                this.getData(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            } else {\r\n                this.getDataForGeneralManager(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevState.isActive !== this.state.isActive) {\r\n\r\n            if (this.props.userStatus === 1) {\r\n                this.getData(this.props.userID).then((data) => {\r\n                    this.setState({data: data})\r\n                });\r\n            } else if (this.props.userStatus === 2) {\r\n                if (this.props.displayStatus === 1) {\r\n                    this.getData(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n                } else {\r\n                    if(this.props.proxyChiefID!==-1000){\r\n                        this.getDataForChief(this.props.userID).then((data) => {\r\n                            this.setState({data: data})\r\n                        });\r\n                    }else{\r\n                        this.getDataForProxyChief(this.props.userID).then((data) => {\r\n                            this.setState({data: data})\r\n                        });\r\n\r\n                    }\r\n                }\r\n            } else if (this.props.userStatus === 3) {\r\n\r\n                if (this.props.displayStatus === 1) {\r\n                    this.getData(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n                } else {\r\n                    this.getDataForGeneralManager(this.props.userID).then((data) => {\r\n                        this.setState({data: data})\r\n                    });\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    getData(userID) {\r\n        let arr = [];\r\n        let arr2 = [];\r\n        return api.get('/displayUsersPermissions/' + userID + '/' + this.state.isActive)\r\n            .then(\r\n                function (response) {\r\n\r\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\r\n\r\n                        arr.push(response.data.prevPerms[key]);\r\n\r\n                    });\r\n\r\n                    for (let i = 0; i < arr.length; i++) {\r\n\r\n                        arr2.push(createData(\r\n                            arr[i].userStatus,\r\n                            arr[i].permissionID,\r\n                            arr[i].beginDateOfPermission,\r\n                            arr[i].endDateOfPermission,\r\n                            arr[i].chiefConfirmStatus,\r\n                            arr[i].generalManagerConfirmStatus,\r\n                            arr[i].chiefsDescription,\r\n                            arr[i].generalManagerDescription)\r\n                        )\r\n                    }\r\n\r\n                    return arr2\r\n\r\n                })\r\n    }\r\n\r\n    getDataForChief(chiefID) {\r\n\r\n        console.log(\"DERLER Kİİİİ\")\r\n        console.log(this.props)\r\n\r\n\r\n        let arr = [];\r\n        let arr2 = [];\r\n\r\n        return api.get('/displayPermissionsForChief/' + chiefID + '/' + this.state.isActive)\r\n            .then(\r\n                function (response) {\r\n\r\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\r\n\r\n                        arr.push(response.data.prevPerms[key]);\r\n\r\n                    });\r\n\r\n                    for (let i = 0; i < arr.length; i++) {\r\n\r\n                        arr2.push(createData(\r\n                            arr[i].userStatus,\r\n                            arr[i].permissionID,\r\n                            arr[i].beginDateOfPermission,\r\n                            arr[i].endDateOfPermission,\r\n                            arr[i].chiefConfirmStatus,\r\n                            arr[i].generalManagerConfirmStatus,\r\n                            arr[i].chiefsDescription,\r\n                            arr[i].generalManagerDescription)\r\n                        )\r\n                    }\r\n                    return arr2\r\n                })\r\n    }\r\n\r\n    getDataForProxyChief(proxyChiefID) {\r\n\r\n        let arr = [];\r\n        let arr2 = [];\r\n\r\n        return api.get('/displayPermissionsForProxyChief/' + proxyChiefID + '/' + this.state.isActive)\r\n            .then(\r\n                function (response) {\r\n\r\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\r\n\r\n                        arr.push(response.data.prevPerms[key]);\r\n\r\n                    });\r\n\r\n                    for (let i = 0; i < arr.length; i++) {\r\n\r\n                        arr2.push(createData(\r\n                            arr[i].userStatus,\r\n                            arr[i].permissionID,\r\n                            arr[i].beginDateOfPermission,\r\n                            arr[i].endDateOfPermission,\r\n                            arr[i].chiefConfirmStatus,\r\n                            arr[i].generalManagerConfirmStatus,\r\n                            arr[i].chiefsDescription,\r\n                            arr[i].generalManagerDescription)\r\n                        )\r\n                    }\r\n                    return arr2\r\n                })\r\n    }\r\n\r\n    getDataForGeneralManager(generalManagerID) {\r\n\r\n        let arr = [];\r\n        let arr2 = [];\r\n\r\n        return api.get('/displayPermissionsForGeneralManager/' + generalManagerID + '/' + this.state.isActive)\r\n            .then(\r\n                function (response) {\r\n\r\n                    Object.keys(response.data.prevPerms).forEach(function (key) {\r\n\r\n                        arr.push(response.data.prevPerms[key]);\r\n\r\n                    });\r\n\r\n                    for (let i = 0; i < arr.length; i++) {\r\n\r\n                        arr2.push(createData(\r\n                            arr[i].userStatus,\r\n                            arr[i].permissionID,\r\n                            arr[i].beginDateOfPermission,\r\n                            arr[i].endDateOfPermission,\r\n                            arr[i].chiefConfirmStatus,\r\n                            arr[i].generalManagerConfirmStatus,\r\n                            arr[i].chiefsDescription,\r\n                            arr[i].generalManagerDescription)\r\n                        )\r\n                    }\r\n\r\n                    return arr2\r\n\r\n                })\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            isActive: !this.state.isActive\r\n        });\r\n        if (event.target.checked) {\r\n            this.setState({\r\n                activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\r\n            })\r\n        } else {\r\n            this.setState({\r\n                activePassiveHeader: \"GEÇMİŞ İZİN TALEPLERİ\"\r\n            })\r\n        }\r\n\r\n        this.getData();\r\n\r\n    }\r\n\r\n    bringHeader() {\r\n        return (\r\n            <Bounce>\r\n                {this.state.isActive ? \"AKTİF İZİN TALEPLERİ\" : \"GEÇMİŞ İZİN TALEPLERİ\"}\r\n            </Bounce>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(\"------------\")\r\n        console.log(this.state.data)\r\n        console.log(\"------------\")\r\n        return (\r\n            <div style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                flex: 3\r\n            }}>\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    marginTop: \"20px\",\r\n                    textAlign: \"center\",\r\n                    flex: 2\r\n                }}>\r\n\r\n                    <h1 style={{\r\n                        display: \"flex\",\r\n                        flex: 2,\r\n                        justifyContent: \"center\",\r\n                        flexDirection: \"column\",\r\n                        fontSize: \"40px\",\r\n                        width: \"100%\"\r\n                    }}>\r\n                        {this.bringHeader()}\r\n                    </h1>\r\n                    <Switch\r\n                        style={{display: \"flex\", margin: \"0\"}}\r\n                        checked={this.state.isActive}\r\n                        onChange={this.handleChange}\r\n                        color=\"primary\"\r\n                        name=\"isActive\"\r\n                        inputProps={{'aria-label': 'primary checkbox'}}\r\n                    />\r\n\r\n                </div>\r\n                <StickyHeadTable rows={this.state.data}/>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PreviousPermissions);\r\n"]},"metadata":{},"sourceType":"module"}