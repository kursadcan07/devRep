{"ast":null,"code":"var _jsxFileName = \"/home/can/IdeaProjects/devRep/src/PersonelScreens/PreviousPermissions.js\";\nimport React from \"react\";\nimport BootstrapSwitchButton from 'bootstrap-switch-button-react';\nimport StickyHeadTable from \"./StickyHeadTable\";\nimport { connect } from \"react-redux\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst axios = require('axios');\n\nconst api = axios.create({\n  baseURL: `http://localhost:4000`\n});\n\nconst mapStateToProps = state => {\n  return {\n    userStatus: state.permissionReducer.userStatus,\n    displayStatus: state.permissionReducer.displayStatus,\n    userID: state.userLoginReducer.userID,\n    permissionDescription: state.permissionReducer.permissionDescription,\n    personalName: state.userLoginReducer.personalName,\n    beginDateOfPermission: state.permissionReducer.beginDateOfPermission,\n    endDateOfPermission: state.permissionReducer.endDateOfPermission,\n    //demandDateOfPermission: moment().format(\"DD-MM-YYYY HH:mm:ss\"),\n    isPermissionActive: state.permissionReducer.isPermissionActive,\n    begDateSelectionStat: state.permissionReducer.begDateSelectionStat || false,\n    endDateSelectionStat: state.permissionReducer.endDateSelectionStat || false,\n    selectVehicleUsageName: state.permissionReducer.selectVehicleUsageName,\n    selectVehicleUsageID: state.permissionReducer.selectVehicleUsageID,\n    priceOfTrainOrBus: state.permissionReducer.priceOfTrainOrBus,\n    totalDistanceOfIndividualCar: state.permissionReducer.totalDistanceOfIndividualCar,\n    foldCode: state.permissionReducer.foldCode,\n    areaCode: state.permissionReducer.areaCode,\n    displayThePermissionName: state.permissionReducer.displayThePermissionName,\n    setPermissionType: state.permissionReducer.setPermissionType\n  };\n};\n\nfunction createData(userStatus, permissionID, beginDateOfPermission, endDateOfPermission, chiefConfirmStatus, generalManagerConfirmStatus, chiefsDescription, generalManagerDescription) {\n  return {\n    userStatus,\n    permissionID,\n    beginDateOfPermission,\n    endDateOfPermission,\n    chiefConfirmStatus,\n    generalManagerConfirmStatus,\n    chiefsDescription,\n    generalManagerDescription\n  };\n}\n\nclass PreviousPermissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      displayActives: true,\n      checkedA: true,\n      activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\n    };\n    this.ToggleButton = this.ToggleButton.bind(this);\n    this.getData = this.getData.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  ToggleButton() {\n    this.setState(currentState => ({\n      displayActives: !this.state.displayActives\n    }));\n  }\n\n  componentDidMount() {\n    this.getData().then(data => {\n      this.setState({\n        data: data\n      });\n    });\n  }\n\n  getData() {\n    let arr = [];\n    let arr2 = [];\n    return api.get('/displayUsersPermissions/:userID', {\n      params: {\n        userID: this.props.userID\n        /*            isPermissionActive:this.props.isPermissionActive*/\n\n      }\n    }).then(function (response) {\n      Object.keys(response.data.prevPerms).forEach(function (key) {\n        arr.push(response.data.prevPerms[key]);\n      });\n      console.log(response);\n\n      for (let i = 0; i < arr.length; i++) {\n        arr2.push(createData(arr[i].userStatus, arr[i].permissionID, arr[i].beginDateOfPermission, arr[i].endDateOfPermission, arr[i].chiefConfirmStatus, arr[i].generalManagerConfirmStatus, arr[i].chiefsDescription, arr[i].generalManagerDescription));\n      }\n\n      console.log(arr2);\n      return arr2;\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      checkedA: event.target.checked\n    });\n\n    if (this.state.checkedA) {\n      this.setState({\n        activePassiveHeader: \"AKTİF İZİN TALEPLERİ\"\n      });\n    } else {\n      this.setState({\n        activePassiveHeader: \"GEÇMİŞ İZİN TALEPLERİ\"\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        flex: 3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginTop: \"20px\",\n        textAlign: \"center\",\n        flex: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        display: \"flex\",\n        flex: 2,\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        fontSize: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, this.state.activePassiveHeader, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      checked: this.state.checkedA,\n      onChange: this.handleChange,\n      color: \"primary\",\n      name: \"checkedA\",\n      inputProps: {\n        'aria-label': 'primary checkbox'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(StickyHeadTable, {\n      rows: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default connect(mapStateToProps)(PreviousPermissions);","map":{"version":3,"sources":["/home/can/IdeaProjects/devRep/src/PersonelScreens/PreviousPermissions.js"],"names":["React","BootstrapSwitchButton","StickyHeadTable","connect","Switch","axios","require","api","create","baseURL","mapStateToProps","state","userStatus","permissionReducer","displayStatus","userID","userLoginReducer","permissionDescription","personalName","beginDateOfPermission","endDateOfPermission","isPermissionActive","begDateSelectionStat","endDateSelectionStat","selectVehicleUsageName","selectVehicleUsageID","priceOfTrainOrBus","totalDistanceOfIndividualCar","foldCode","areaCode","displayThePermissionName","setPermissionType","createData","permissionID","chiefConfirmStatus","generalManagerConfirmStatus","chiefsDescription","generalManagerDescription","PreviousPermissions","Component","constructor","props","data","displayActives","checkedA","activePassiveHeader","ToggleButton","bind","getData","handleChange","setState","currentState","componentDidMount","then","arr","arr2","get","params","response","Object","keys","prevPerms","forEach","key","push","console","log","i","length","event","target","checked","render","display","flexDirection","justifyContent","flex","marginTop","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport BootstrapSwitchButton from 'bootstrap-switch-button-react'\nimport StickyHeadTable from \"./StickyHeadTable\";\nimport {connect} from \"react-redux\";\nimport Switch from \"@material-ui/core/Switch\";\nconst axios = require('axios');\n\nconst api = axios.create({\n    baseURL: `http://localhost:4000`\n})\n\nconst mapStateToProps = (state) => {\n    return {\n\n        userStatus: state.permissionReducer.userStatus,\n        displayStatus: state.permissionReducer.displayStatus,\n\n        userID: state.userLoginReducer.userID,\n        permissionDescription: state.permissionReducer.permissionDescription,\n        personalName: state.userLoginReducer.personalName,\n        beginDateOfPermission: state.permissionReducer.beginDateOfPermission,\n        endDateOfPermission: state.permissionReducer.endDateOfPermission,\n        //demandDateOfPermission: moment().format(\"DD-MM-YYYY HH:mm:ss\"),\n        isPermissionActive:state.permissionReducer.isPermissionActive,\n\n        begDateSelectionStat: state.permissionReducer.begDateSelectionStat || false,\n        endDateSelectionStat: state.permissionReducer.endDateSelectionStat || false,\n\n        selectVehicleUsageName: state.permissionReducer.selectVehicleUsageName,\n        selectVehicleUsageID: state.permissionReducer.selectVehicleUsageID,\n        priceOfTrainOrBus: state.permissionReducer.priceOfTrainOrBus,\n        totalDistanceOfIndividualCar: state.permissionReducer.totalDistanceOfIndividualCar,\n\n        foldCode: state.permissionReducer.foldCode,\n        areaCode: state.permissionReducer.areaCode,\n\n        displayThePermissionName: state.permissionReducer.displayThePermissionName,\n        setPermissionType: state.permissionReducer.setPermissionType,\n\n    }\n};\n\nfunction createData(userStatus, permissionID, beginDateOfPermission, endDateOfPermission, chiefConfirmStatus, generalManagerConfirmStatus, chiefsDescription, generalManagerDescription) {\n    return {\n        userStatus,\n        permissionID,\n        beginDateOfPermission,\n        endDateOfPermission,\n        chiefConfirmStatus,\n        generalManagerConfirmStatus,\n        chiefsDescription,\n        generalManagerDescription\n    };\n}\n\nclass PreviousPermissions extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            displayActives: true,\n            checkedA:true,\n            activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"\n        }\n        this.ToggleButton = this.ToggleButton.bind(this);\n        this.getData = this.getData.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n\n    }\n\n    ToggleButton() {\n        this.setState((currentState) => ({\n            displayActives: !this.state.displayActives\n        }));\n    }\n\n    componentDidMount() {\n        this.getData().then((data) => {\n            this.setState({data: data})\n        });\n    }\n\n    getData() {\n        let arr = [];\n        let arr2 = [];\n        return api.get('/displayUsersPermissions/:userID', {\n            params: {\n                userID: this.props.userID,\n    /*            isPermissionActive:this.props.isPermissionActive*/\n            }\n        }).then(\n            function (response) {\n                Object.keys(response.data.prevPerms).forEach(function (key) {\n                    arr.push(response.data.prevPerms[key]);\n                });\n                console.log(response)\n                for (let i = 0; i < arr.length; i++) {\n\n                    arr2.push(createData(\n                        arr[i].userStatus,\n                        arr[i].permissionID,\n                        arr[i].beginDateOfPermission,\n                        arr[i].endDateOfPermission,\n                        arr[i].chiefConfirmStatus,\n                        arr[i].generalManagerConfirmStatus,\n                        arr[i].chiefsDescription,\n                        arr[i].generalManagerDescription)\n                    )\n                }\n                console.log(arr2)\n                return arr2\n\n            })\n    }\n    handleChange(event){\n        this.setState({\n            checkedA:event.target.checked\n        })\n        if (this.state.checkedA){\n            this.setState({\n                activePassiveHeader:\"AKTİF İZİN TALEPLERİ\"\n            })\n        }\n        else{\n            this.setState({\n                activePassiveHeader:\"GEÇMİŞ İZİN TALEPLERİ\"\n            })\n        }\n    }\n    render() {\n        return (\n            <div style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                flex: 3\n            }}>\n                <div style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    marginTop: \"20px\",\n                    textAlign:\"center\",\n                    flex: 2\n                }}>\n\n                    <h1 style={{display:\"flex\",flex:2,justifyContent:\"center\",flexDirection:\"column\",fontSize:\"40px\"}}>{this.state.activePassiveHeader} </h1>\n                    <br/>\n                    <Switch\n                        checked={this.state.checkedA}\n                        onChange={this.handleChange}\n                        color=\"primary\"\n                        name=\"checkedA\"\n                        inputProps={{ 'aria-label': 'primary checkbox' }}\n                    />\n\n                   {/* <BootstrapSwitchButton\n                        width={300}\n                        checked={this.state.displayActives}\n                        onlabel={\"AKTİF TALEPLER\"}\n                        offlabel={\"GEÇMİŞ TALEPLER\"}\n                        onChange={() => this.ToggleButton()}\n                    />*/}\n                </div>\n                <StickyHeadTable rows={this.state.data}/>\n            </div>\n\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(PreviousPermissions);\n"]},"metadata":{},"sourceType":"module"}